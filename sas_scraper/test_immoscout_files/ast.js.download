/*! AST v0.28.0 Updated: 2020-01-29 */!function(e){var t={};function n(a){if(t[a])return t[a].exports;var r=t[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(a,r,function(t){return e[t]}.bind(null,r));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=18)}([function(e,t,n){var a=n(1),r=a.TYPE.ARRAY,i=a.TYPE.STRING,o=a.TYPE.FUNC,s=a.TYPE.NUM,d=a.TYPE.OBJ,c=Object.prototype.hasOwnProperty,u=!1,l=a.DEBUG.DEBUG_MODE,g=a.OBJECT_TYPE.UNDEFINED,f=a.CONTENT_SOURCE.RTB,p=a.CONTENT_SOURCE.CSM,m=a.CONTENT_SOURCE.SSM,v=null;try{v="object"==typeof console.info?console.info:console.info.bind(window.console)}catch(e){}t.addEventHandler=function(e,t,n,a){e.addEventListener?e.addEventListener(t,n,a):e.attachEvent&&e.attachEvent("on"+t,n)},t.removeEventHandler=function(e,t,n,a){e.removeEventListener?e.removeEventListener(t,n,a):e.detachEvent&&e.detachEvent("on"+t,n)},t.isA=function(e,t){return Object.prototype.toString.call(e)==="[object "+t+"]"},t.isObj=function(e){return this.isA(e,d)},t.isFn=function(e){return this.isA(e,o)},t.isStr=function(e){return this.isA(e,i)},t.isArray=function(e){return this.isA(e,r)},t.isNumber=function(e){return this.isA(e,s)},t.isEmpty=function(e){if(!e)return!0;if(this.isArray(e)||this.isStr(e))return 0===e.length;for(var t in e)if(c.call(e,t))return!1;return!0};var h=function(){return window.console&&window.console.log},y=function(){var e=new Date;return"["+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()+":"+e.getMilliseconds()+"] "};function b(){return!(typeof $sf===g||!$sf.ext)&&!!$sf.ext.debug}t.logMessage=function(e){if(this.debugTurnedOn()&&h()){var t=y(),n=b()?"SAFEFRAME MESSAGE: ":"MESSAGE: ";console.log(t+n+e)}},t.logWarn=function(e){if(this.debugTurnedOn()&&h()){var t=y(),n=b()?"SAFEFRAME WARN: ":"WARN: ";console.warn?console.warn(t+n+e):console.log(t+n+e)}},t.logError=function(e,t){if(this.debugTurnedOn()&&h()){var n=t||"GENERAL_ERROR",a=y(),r=b()?"SAFEFRAME ":"";console.error?console.error(a+r+n+": "+e):console.log(a+r+n+": "+e)}},t.logTimestamp=function(e){this.debugTurnedOn()&&h()&&console.timeStamp&&console.timeStamp(e)},t.logInfo=function(e,t){if(this.debugTurnedOn()&&h()){var n=y();if(v){t&&0!==t.length||(t="");var a=b()?"SAFEFRAME INFO: ":"INFO: ";v(n+a+e+(""===t?"":" : params : "),t)}}},t.loadScript=function(e,t,n){var a=e.document,r=a.createElement("script");r.type="text/javascript",r.async=!0,n&&"function"==typeof n&&(r.readyState?r.onreadystatechange=function(){"loaded"!==r.readyState&&"complete"!==r.readyState||(r.onreadystatechange=null,n())}:r.onload=function(){n()}),r.src=t;var i=a.getElementsByTagName("head");return(i=i.length?i:a.getElementsByTagName("body")).length&&(i=i[0]).insertBefore(r,i.firstChild),r},t.getUUID=function(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?n:3&n|8).toString(16)})},t.loadPixelUrl=function(e,t,n){var a=void 0;if(n="anx_"+n+(new Date).getTime(),e&&t){(a=new Image).id=n,a.src=t,a.height=0,a.width=0,a.style.display="none",a.onload=function(){try{this.parentNode.removeChild(this)}catch(e){}};try{e.insertBefore(a,e.firstChild)}catch(e){this.logError("Error logging impression for tag: "+n+" :"+e.message)}}},t._each=function(e,t){if(!this.isEmpty(e)){if(this.isFn(e.forEach))return e.forEach(t);var n=0,a=e.length;if(a>0)for(;n<a;n++)t(e[n],n,e);else for(n in e)c.call(e,n)&&t(e[n],n,e)}},t.contains=function(e,t){if(this.isEmpty(e))return!1;for(var n=e.length;n--;)if(e[n]===t)return!0;return!1},t.debugTurnedOn=function(){return!!b()||(this.getWindow().apntag=this.getWindow().apntag||{},apntag&&!1===apntag.debug&&!1===u&&(apntag.debug="TRUE"===this.getParameterByName(l).toUpperCase(),u=!0),!(!apntag||!apntag.debug))},t.stringContains=function(e,t){return!!e&&-1!==e.indexOf(t)},t.getSearchQuery=function(){try{return window.top.location.search}catch(e){try{return window.location.search}catch(e){return""}}},t.getParameterByName=function(e,t){var n=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(t||this.getSearchQuery());return null===n?"":decodeURIComponent(n[1].replace(/\+/g," "))},t.hasOwn=function(e,t){return e.hasOwnProperty?e.hasOwnProperty(t):typeof e[t]!==g&&e.constructor.prototype[t]!==e[t]},t.getTargetArrayforRefresh=function(e){var t=[];return this.isArray(e)?t=e:this.isStr(e)&&t.push(e),t},t._map=function(e,t){if(this.isEmpty(e))return[];if(this.isFn(e.map))return e.map(t);var n=[];return this._each(e,function(a,r){n.push(t(a,r,e))}),n},t.getValueString=function(e,t,n){return null==t?n:this.isStr(t)?t:this.isNumber(t)?t.toString():void this.logWarn("Unsuported type for param: "+e+" required type: String")},t.getValueAsType=function(e,t,n,a){return null==t?a:this.isA(t,n)?t:(this.logWarn("Unsuported type for param: "+e+" required type: "+n),n===s&&(t=Number(t)),isNaN(t)?a:t)},t.getWindow=function(){return window},t.getAdObjFromAdsArray=function(e){if(e&&e.length>0){if(e[0][f])return e[0][f];if(e[0][p])return e[0][p];if(e[0][m])return e[0][m]}},t.cloneAsObject=function(e){if(null===e||!(e instanceof Object))return e;var t=e instanceof Array?[]:{};for(var n in e)t[n]=this.cloneAsObject(e[n]);return t},t.getUtDivId=function(e){return a.PREFIX.UT_DIV+e.targetId},t.getCdnOrigin=function(){return this.getWindow().document.location.protocol+"//"+a.EXTERNAL_LIB.CDN_ORIGIN},t.values=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t},t.runOnce=function(e,t){var n=void 0;if(this.isFn(e))return function(){return e&&(n=e.apply(t||this,arguments),e=null),n}},t.getTagData=function(e,t){var n={};return["debug","displayed","initialHeight","initialWidth","member","showTagCalled","sizes","targetId","utCalled","utDivId","utiframeId","uuid","keywords"].forEach(function(t){n[t]=e[t]}),t&&(n.on=t.on,n.off=t.off,n.modifyTag=t.modifyTag,n.setKeywords=t.setKeywords),n},t.checkDefinedTag=function(e){apntag.requests.tags=apntag.requests.tags||{};var t=!0;return typeof apntag.requests.tags[e]===g&&(t=!1),t},t.checkPlacements=function(){apntag.requests.hasLeft=!1,t._each(apntag.requests.tags,function(e,n){e.displayed||e.prebid||e.isMediated||(t.logWarn(n+" is not displayed.",a.LOG.WARN),apntag.requests.hasLeft=!0)}),apntag.requests.hasLeft||t.logMessage("all Tags are displayed.")}},function(e){e.exports={PREFIX:{UT_IFRAME:"utif_",UT_DIV:"div_utif_"},LOG:{WARN:"WARN"},DEBUG:{DEBUG_MODE:"ast_debug",AST_DONGLE:"ast_dongle",AST_DEBUG_MEMBER:"ast_debug_member",AST_DEBUG_BIDDER:"ast_debug_bidder",AST_TEST:"ast_test",AST_TOOLKIT:"ast_toolkit",AST_OVERRIDE:{BASE:"ast_override_",DIV:"div",INDEX:"index",TAG_ID:"tag_id",INV_CODE:"inv_code",PUBLISHER_ID:"publisher_id"}},OBJECT_TYPE:{UNDEFINED:"undefined",OBJECT:"object",STRING:"string",NUMBER:"number"},BROWSER_TYPE:{IE:"msie",OPERA:"opera"},RENDERER_EVENTS:{LOADED:"loaded",IMPRESSION:"impression"},ENDPOINT:{UT_BASE:"/ut/v3",IMPBUS:"ib.adnxs.com",UT_PREBID:"/ut/v3/prebid"},UT_RESPONSE_PROP:{MEDIA_TYPE:"media_type",CREATIVE_ID:"creative_id",AD_TYPE:"ad_type",BANNER:"banner",VIDEO:"video",CONTENT:"content",UUID:"uuid"},MEDIA_TYPE:{BANNER:"banner",NATIVE:"native",VIDEO:"video"},AD:{CREATIVE_ID:"creative_id",NOTIFY:"notify_url",NOAD:"no_ad_url",IMP_URLS:"impression_urls",TRACKERS:"trackers"},CONTENT_SOURCE:{RTB:"rtb",CSM:"csm",SSM:"ssm"},AD_TYPE:{BANNER:"banner",NATIVE:"native",VIDEO:"video"},EXTERNAL_LIB:{VIDEO_MEDIATION_JS:"//acdn.adnxs.com/video/astMediation/AstMediationManager.js",BANNER_MEDIATION_JS:"//acdn.adnxs.com/ast/mediation/0.28.0/mediation.js",SAFE_FRAME_URL:"//acdn.adnxs.com/ast/safeframe/static/0.28.0/html/safeframe-v2.html",CDN_ORIGIN:"acdn.adnxs.com"},EVENTS:{REQUEST:"adRequested",AVAILABLE:"adAvailable",LOADED:"adLoaded",LOADED_MEDIATED:"adLoadedMediated",NO_BID_MEDIATED:"adNoBidMediated",REQUEST_FAIL:"adRequestFailure",NO_BID:"adNoBid",DEFAULT:"adDefault",ERROR:"adError",COLLAPSE:"adCollapse",BAD_REQUEST:"adBadRequest"},TYPE:{ARRAY:"Array",STRING:"String",FUNC:"Function",NUM:"Number",OBJ:"Object",BOOL:"Boolean"},SAFEFRAME:{DEFAULT_ZINDEX:3e3,STATUS:{READY:"ready",NOTIFY_EXPANDED:"expanded",NOTIFY_COLLAPSED:"collapsed",NOTIFY_ERROR:"error",FOCUS_CHANGE:"focus-change",GEOM_UPDATE:"geom-update",CMP:"cmp"}},EXPAND_OPTIONS:{CREATIVE:"creative"}}},function(e,t,n){"use strict";n.r(t),n.d(t,"renderedAdDivs",function(){return o}),n.d(t,"tagMemberId",function(){return s}),n.d(t,"_externalTagMap",function(){return d}),n.d(t,"_internalTagArr",function(){return c}),n.d(t,"safeframe",function(){return u}),n.d(t,"attachSfHandlers",function(){return l}),n.d(t,"baseWindow",function(){return g}),n.d(t,"getIframeElementMap",function(){return v}),n.d(t,"setIframeElementMap",function(){return h}),n.d(t,"getShowTagDefinedMap",function(){return y}),n.d(t,"setShowTagDefinedMap",function(){return b}),n.d(t,"setEndpoint",function(){return E}),n.d(t,"getEndPoint",function(){return w});var a=n(0),r=n(14),i=n(1),o=[],s={},d={},c=[],u={},l=a.runOnce(r.attachSfHandlers),g=a.getWindow(),f={},p=void 0,m={},v=function(){return f},h=function(e){f=e},y=function(){return m},b=function(e){m=e},E=function(e){e?(p=a.stringContains(e,"http")||a.stringContains(e,"https")?e:"https://"+e,a.logMessage("Setting endpoint to: "+p)):a.logError("Cannot set an empty endpoint")},w=function(){var e=!1;return a._each(apntag.requests.tags,function(t){t.prebid&&(e=!0)}),e?p+i.ENDPOINT.UT_PREBID:p+i.ENDPOINT.UT_BASE}},function(e,t,n){var a=n(0),r=n(1),i=n(8),o=n(11),s=n(22),d=n(13),c=r.TYPE.NUM,u=t,l=0,g=0,f=0,p=2;function m(e){v(),g=window.setTimeout(function(){var t,n;t=e,n=i.getInstance().getIframes(),a._each(n,function(e,n){var i=apntag.requests.tags[n];if(i.alwaysUseXDomainIframe||i.enableSafeFrame){var s=e.iframe.contentWindow,d={};d.targetId=n,d.value=t,d.status=r.SAFEFRAME.STATUS.FOCUS_CHANGE,o.sendMessage(s,JSON.stringify(d),a.getCdnOrigin())}}),v()},p)}function v(){g&&(clearTimeout(g),g=0)}function h(){var e=i.getInstance().getIframes();a._each(e,function(e,t){var n=apntag.requests.tags[t];(n.alwaysUseXDomainIframe||n.enableSafeFrame)&&u.sendGeom(e.iframe,t)}),l&&(clearTimeout(l),l=0)}u.expandIframe=function(e){a.logMessage("Expand iframe started by host");var t=!1,n=!1,s=0,d=0,l=0,g=0,f=void 0,p=void 0,m=a.getWindow().document.getElementById(r.PREFIX.UT_DIV+e.targetId),v=i.getInstance().getIframe(e.targetId),h=v.iframe.style,y=m.style;y.display="";var b=parseInt(y.width,10),E=parseInt(y.height,10);if(isNaN(b)&&(b=0),isNaN(E)&&(E=0),e.bounds.multiDir?(l=b+(p=a.getValueAsType("data.bounds.left",e.bounds.left,c))+a.getValueAsType("data.bounds.right",e.bounds.right,c),g=E+(f=a.getValueAsType("data.bounds.top",e.bounds.top,c))+a.getValueAsType("data.bounds.bottom",e.bounds.bottom,c),f?(d=-1*f,n=!0):d=0,p?(s=-1*p,t=!0):s=0):(l=(t=(s=e.bounds.x)<0)?b+-1*s:b+s,g=(n=(d=e.bounds.y)<0)?E+-1*d:E+d),!(l<=b&&g<=E)){h.width=l+"px",h.height=g+"px",t&&(h.left=s+"px"),n&&(h.top=d+"px"),h.zIndex=r.SAFEFRAME.DEFAULT_ZINDEX,h.position="relative",y.position="relative",e.bounds.push?(y.width=l+"px",y.height=g+"px"):(y.width=b+"px",y.height=E+"px");var w=function(){!function(e,t,n){var r=n.iframe.contentWindow,i={};i.targetId=t.targetId,i.status=e,i.geom=u.geom(t.targetId,n.iframe),o.sendMessage(r,JSON.stringify(i),a.getCdnOrigin())}(r.SAFEFRAME.STATUS.NOTIFY_EXPANDED,e,v)};e.ext&&"number"==typeof e.ext.tweenTime?function(e,t,n,r){var i=t.style;i.transition="height "+e.ext.tweenTime+"ms ease",i.height=n,i["overflow-y"]="hidden",a.addEventHandler(t,"transitionend",function(){"function"==typeof r&&r()})}(e,m,g,w):w()}},u.collapseIframe=function(e){a.logMessage("Collapse iframe started by host");var t=a.getWindow().document.getElementById(r.PREFIX.UT_DIV+e.targetId).style,n=i.getInstance().getIframe(e.targetId),s=n.iframe.style,d=n.originalWidth,c=n.originalHeight;e.ext&&(0===e.ext.width&&(d=0),0===e.ext.height&&(c=0)),s.left="",s.top="0px",t.width=d+"px",s.width=d+"px",t.height=c+"px",s.height=c+"px",s.zIndex="";var l=n.iframe.contentWindow,g={};g.targetId=e.targetId,g.geom=u.geom(e.targetId,n.iframe),g.status=r.SAFEFRAME.STATUS.NOTIFY_COLLAPSED,o.sendMessage(l,JSON.stringify(g),a.getCdnOrigin())},u.getConsentManagement=function(e){function t(){var t=apntag.requests.gdpr_consent,n=i.getInstance().getIframe(e.targetId).iframe.contentWindow,s={targetId:e.targetId,gdpr_consent:t,status:r.SAFEFRAME.STATUS.CMP};o.sendMessage(n,s,a.getCdnOrigin())}apntag.requests.gdpr_consent?t():d.performLookup(apntag.requests,t)},u.loadRenderer=function(e){var t=i.getInstance().getIframe(e.targetId).iframe.contentWindow;delete e.curWindow;var n={status:"nativeAssembly",targetId:e.targetId};o.sendMessage(t,JSON.stringify(n),a.getCdnOrigin())},u.geomInit=function(e,t){a.logMessage("Geom starting");var n=u.geom(e,t);return 0===f&&(f=setInterval(u.handleGeomUpdate,1e3)),n},u.geom=function(e,t){var n=s.build_geom(e,t);return n.anx=function(){try{if(void 0!==window.top.location.href){var e=window,t=0,n=0;do{t+=e.pageYOffset||e.document.documentElement.scrollTop||e.document.body.scrollTop,n+=e.pageXOffset||e.document.documentElement.scrollLeft||e.document.body.scrollLeft,e=e.parent}while(e.parent!==window.top);return{scrollTop:t,scrollLeft:n}}}catch(e){}return{scrollTop:0,scrollLeft:0}}(),n},u.handleWindowFocus=function(){m(!0)},u.handleWindowBlur=function(){m(!1)},u.sendGeomWithGeom=function(e,t,n){var i=e.contentWindow,s={};s.targetId=t,s.geom=n,s.status=r.SAFEFRAME.STATUS.GEOM_UPDATE,o.sendMessage(i,JSON.stringify(s),a.getCdnOrigin())},u.sendGeom=function(e,t){u.sendGeomWithGeom(e,t,u.geom(t,e))},u.handleGeomUpdate=function(){l||(l=window.setTimeout(h,500))},u.removeHandlers=function(){var e=i.getInstance().getIframes();a._each(e,function(e,t){var n=apntag.requests.tags[t];(n.alwaysUseXDomainIframe||n.enableSafeFrame)&&(clearInterval(f),f=0,s.removeHandlers(t))})},u.sendNotify=function(e,t,n){var r=i.getInstance().getIframe(n).iframe.contentWindow,s={messageType:e,messagePayload:t,status:"notify",targetId:n};o.sendMessage(r,s,a.getCdnOrigin())}},function(e,t,n){var a=n(0),r=n(1),i=Array.prototype.slice,o=a._map(r.EVENTS,function(e){return e});e.exports=function(){var e={},t={};return t.on=function(t,n,r){if(function(e){return a.contains(o,e)}(t)){var i={};i[n]=r,e[t]=e[t]||[],e[t].push(i)}else a.logError("Wrong event name : "+t+" Valid event names :"+o)},t.emit=function(t){!function(t,n){var r=n[0],o=i.call(n,1);a.logMessage("Emitting event for: "+t+" for ad tag: "+r),a._each(e[t],function(e){var t="";if(null!=(t=a.hasOwn(e,"*")?e["*"]:e[r])&&"function"==typeof t)try{t.apply(null,o)}catch(e){a.logError("events._dispatch: Error executing event handler function: "+e.message)}})}(t,i.call(arguments,1))},t.off=function(t,n,r){a.isEmpty(e[t])||a._each(e[t],function(e){"*"===n&&null!==e[Object.keys(e)[0]]&&void 0!==e[Object.keys(e)[0]]?void 0!==r&&Object.values(e)!==r||(e[Object.keys(e)[0]]=null):null!==e[n]&&void 0!==e[n]&&(void 0!==r&&e[n]!==r||(e[n]=null))})},t.get=function(){return e},t}()},function(e,t,n){var a=n(0),r=n(1),i=t,o="https:"===a.getWindow().document.location.protocol?"https:":"http:",s=[],d=!1,c=o+r.EXTERNAL_LIB.VIDEO_MEDIATION_JS,u=o+r.EXTERNAL_LIB.BANNER_MEDIATION_JS,l=r.UT_RESPONSE_PROP.AD_TYPE,g=r.AD_TYPE.BANNER,f=r.AD_TYPE.VIDEO;i.checkIfMediatedResponse=function(e){var t=!1;return e&&a._each(e,function(e){"csm"===e.content_source&&(t=!0)}),t},i.getMediationType=function(e){var t=g;return Array.isArray(e)&&e.length>0&&e[0][l]===f&&(t=f),t},i.callMediationFramework=function(e,t,n,r){var i=this;e===f&&(null!==t&&s.push(t),d&&window.APNVideo_AstMediationManager?a._each(s,function(e){if(!e.called)try{window.APNVideo_AstMediationManager.selectAd(e.uuid,e,n,r),e.called=!0}catch(e){a.logError("Error invoking video mediation","mediationmanager.js",e)}}):(a.loadScript(window,c,function(){i.callMediationFramework(f,null,n,r)}),d=!0))},i.getMediationOptions=function(e,t){var n={};return a._each(e,function(e){e.uuid===t.uuid&&e.mediationOptions&&(n=e.mediationOptions)}),n},i.getAdObjByMediation=function(e){return e.isMediated||e.isRtbVideoFallback?e.adResponse.ad:e.adResponse.ads[0]},i.copyAdObjforMediation=function(e){return e.isMediated||e.isRtbVideoFallback||(e.adResponse.ad=e.adResponse.ads[0]),e},i.getContentSourceForMediation=function(e){var t=e.content_source,n=e.ad_type;if(t)return e[t][n]},i.getContentForBannerMediation=function(e,t){var n="<script>";return n+="var APN_macros = {};",n+='APN_macros.uuid = "'+e+'";',n+="APN_macros.enableMediationEvents = "+apntag.requests.enableMediationEvents+";",n+="APN_macros.ads = ",n+='window.parent.apntag.getAdMarkup("'+e+'", "'+t.uuid+'");',n+=";",n+="document.write('<scr' + 'ipt src=\""+u+"\"></scr' + 'ipt>');",n+="<\/script>"}},function(e,t,n){var a=n(9),r=n(0),i=n(7),o=n(1),s={};function d(e,t){var n=function(e){var t={};return r._each(apntag.requests.tags,function(n){e===n.uuid&&(t=n)}),t}(e.uuid);if(this.targetId=n.targetId,e.nobid)return this.nobid=!0,this.tagId=e.tag_id,this.auctionId=e.auction_id,this;e.ads&&e.ads.length,this.tagId=e.tag_id,this.auctionId=e.auction_id;var i=t||e.ads[0],s=this;r._each(u(i),function(e,t){s[t]=e});var d=void 0,g=void 0,f=function(e){var t=[];r.isEmpty(e.sizes)||(t=a.getSizes(e.sizes));return t}(n);r.isArray(f)&&f[0]&&(d=f[0].height,g=f[0].width);var p=i.content_source?i.content_source:"rtb";if(i[p]&&i[p].banner)this.banner={width:i[p].banner.width,height:i[p].banner.height,content:i[p].banner.content,trackers:i[p].trackers},d=i[p].banner.height,g=i[p].banner.width;else if(i.rtb&&i.rtb.video){var m=i.rtb.video;this.video={duration:m.duration_ms,playbackMethods:m.playback_methods,frameworks:m.frameworks,content:m.content,trackers:i.rtb.trackers}}else if(i.rtb&&i.rtb[o.MEDIA_TYPE.NATIVE]){var v=i.rtb[o.MEDIA_TYPE.NATIVE];this[o.MEDIA_TYPE.NATIVE]=l(v),c(i,this.targetId)}this.height=d,this.width=g}var c=function(e,t){if(e.viewability&&e.viewability.config){var n=e.viewability.config;"string"==typeof t&&(n=n.replace("%native_dom_id%",t),r.debugTurnedOn()&&null===document.getElementById(t)&&r.logWarn("No element found in the page for the native creative "+t+", see https://wiki.appnexus.com/display/sdk/DefineTag 'targetId'")),i.createIframe({strategy:"WithContent",data:n})}};function u(e){return{adType:e.ad_type,buyerMemberId:e.buyer_member_id,source:e.content_source,cpm:e.cpm,creativeId:e.creative_id,mediaSubtypeId:e.media_subtype_id,mediaTypeId:e.media_type_id,brandCategoryId:e.brand_category_id}}function l(e){return{type:e.type,title:e.title,body:e.desc,desc2:e.desc2,fullText:e.full_text,icon:e.icon,image:e.main_img,cta:e.ctatext,sponsoredBy:e.sponsored,impressionTrackers:e.impression_trackers,clickTrackers:e.link&&e.link.click_trackers,clickUrl:e.link&&e.link.url,clickFallbackUrl:e.link&&e.link.fallback_url,javascriptTrackers:e.javascript_trackers,video:e.video,privacyLink:e.privacy_link,rating:e.rating,displayUrl:e.displayurl,likes:e.likes,downloads:e.downloads,price:e.price,salePrice:e.saleprice,phone:e.phone,address:e.address,customTitle1:e.title1,customTitle2:e.title2,customTitle3:e.title3,customTitle4:e.title4,customTitle5:e.title5,customBody1:e.body1,customBody2:e.body2,customBody3:e.body3,customBody4:e.body4,customBody5:e.body5,customCta1:e.ctatext1,customCta2:e.ctatext2,customCta3:e.ctatext3,customCta4:e.ctatext4,customCta5:e.ctatext5,customDisplayUrl1:e.displayurl1,customDisplayUrl2:e.displayurl2,customDisplayUrl3:e.displayurl3,customDisplayUrl4:e.displayurl4,customDisplayUrl5:e.displayurl5,customSocialUrl1:e.socialurl1,customSocialUrl2:e.socialurl2,customSocialUrl3:e.socialurl3,customSocialUrl4:e.socialurl4,customSocialUrl5:e.socialurl5,customImage1:e.image1,customImage2:e.image2,customImage3:e.image3,customImage4:e.image4,customImage5:e.image5,customIcon1:e.icon1,customIcon2:e.icon2,customIcon3:e.icon3,customIcon4:e.icon4,customIcon5:e.icon5,customSocialIcon1:e.socialicon1,customSocialIcon2:e.socialicon2,customSocialIcon3:e.socialicon3,customSocialIcon4:e.socialicon4,customSocialIcon5:e.socialicon5}}t.getAdObj=function(e,t){if(!e||!e.uuid)return{};if(s[e.uuid]&&!t)return s[e.uuid];try{var n=function(e,t){return new d(e,t)}(e,t);return t||(s[e.uuid]=n),n}catch(e){r.logError("adManager.getAdObj: Error trying to instantiate new adObj: "+e.message)}},t.getAdObjFromMediationBid=function(e,t){var n={};return n.targetId=t,r._each(u(e),function(e,t){n[t]=e}),e.rtb&&e.rtb.native&&(n.native=l(e.rtb.native)),c(e,t),n},t.getAdObjByResponseType=function(e,n,a){var r=e.adResponse&&e.adResponse.ads&&e.adResponse.ads.length,i=r&&e.adResponse.ads[r-1].ad_type===o.AD_TYPE.NATIVE;return e.isMediated&&i&&!a?t.getAdObj(e.adResponse,e.adResponse.ads[r-1]):t.getAdObj(e.adResponse,a)},t.checkAdAvailable=function(e){var t=apntag.requests.tags[e],n=t&&t.adResponse,a=t&&t.utCalled&&!t.showTagCalled&&n&&this.getAdObj(n);return function(e){a&&(n.nobid||e.resolve(a),n.nobid&&e.reject())}},t.getAdErrorObj=function(e,t,n,a){return{code:a,errMessage:e||n.message,exception:n,targetId:t}}},function(e,t,n){var a=n(1),r=a.CONTENT_SOURCE.RTB,i=t,o=n(0),s=a.UT_RESPONSE_PROP.BANNER,d=a.UT_RESPONSE_PROP.CONTENT,c="https:"===o.getWindow().document.location.protocol?"https:":"http:";i.getIframe=function(e,t){var n=void 0,i=function(e){return a.PREFIX.UT_IFRAME+e.targetId+"_"+o.getUUID()}(e),c=o.getWindow();if((n=null!==c.document.getElementById(i)?c.document.getElementById(i):c.document.createElement("iframe")).id=i,e.alwaysUseXDomainIframe||e.enableSafeFrame){o.logMessage("targetId: "+e.targetId+" is using safeFrame. Loading this ad into sandboxed iframe");var u=void 0;t.renderer_url?u="\x3c!-- renderer loading in SF--\x3e":e.isBannerMediation?u=apntag.getAdMarkup(e.targetId,e.uuid):e.isVideoMediation?u=e.adResponse.ad[r][s][d]:(u=l(e),u=""+(u=u.replace("/&/g","&amp;").replace("/</g","&lt;").replace("/>/g","&gt;").replace('/"/g',"&quot;").replace("/'/g","&#39;")));var g=e.curWindow;delete e.curWindow;var f={targetId:e.targetId,ad:u,host:c.location.protocol+"//"+c.location.host,geom:e.geom,debug:o.debugTurnedOn(),hasFocus:document.hasFocus(),hostSfSupport:e.safeframe,isMediated:e.isMediated,rendererUrl:t.renderer_url,enableMediationEvents:apntag.requests.enableMediationEvents,currentTag:e};e.safeframe.meta&&(f.meta=e.safeframe.meta),n.name=JSON.stringify(f),e.curWindow=g,e.safeframe.sandbox&&(n.sandbox="allow-forms allow-modals allow-orientation-lock allow-pointer-lock allow-popups allow-popups-to-escape-sandbox allow-presentation allow-same-origin allow-scripts")}else n.name=i;return n.setAttribute("height",e.initialHeight),n.setAttribute("width",e.initialWidth),n.tabIndex="-1",n.width=e.initialWidth+"px",n.height=e.initialHeight+"px",n.border="0",n.hspace="0",n.vspace="0",n.marginWidth="0",n.marginHeight="0",n.style.border="0",n.scrolling="no",n.frameBorder="0",e.customIframeProps&&o._each(e.customIframeProps,function(e,t){n[t]=e}),n},i.loadIeIframe=function(e,t){if(t.alwaysUseXDomainIframe||t.enableSafeFrame)e.src=c+a.EXTERNAL_LIB.SAFE_FRAME_URL;else{var n;n=l(t);try{e.contentWindow.contents=n}catch(t){e.src="javascript:document.write('<script>document.domain=\""+document.domain+"\"<\/script>')",e.contentWindow.contents=n}var r=document.getElementsByTagName("base"),i=void 0;r.length&&(i=r.target,r[0].target="_self"),e.src='javascript:window["contents"];',r.length&&(r[0].target=i)}};function u(e){var t=o.getWindow().document.getElementsByTagName("body");t.length&&t[0].appendChild(e)}function l(e){var t=e.targetId,n="";if(e.isMediated)n=e.ad.mediatedContent,o.logMessage("Invoking mediation for displaying banner ad: "+t);else if(e.adResponse&&1===e.adResponse.ads.length){n=o.getAdObjFromAdsArray(e.adResponse.ads)[s][d]}return function(e,t,n){var a=function(e,t){if(t)return"";return'window.onerror = function(e) {\n        if(window.parent && window.parent.apntag) {\n          window.parent.apntag.recordErrorEvent(e,"'+e+'");\n          return true;\n        }\n      };'}(e,n);return'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"><html><head>\n    <script>inDapIF=true;\n    apntag_targetId = "'+e+'";\n    '+a+'\n    <\/script></head>\n    <body>\n    <script>\n    document.body.id = "'+e+'";\n    <\/script>\n    '+t+"\n    </body></html>"}(t,n,e.alwaysUseXDomainIframe||e.enableSafeFrame)}i.loadIframe=function(e,t){if(t.alwaysUseXDomainIframe||t.enableSafeFrame)e.src=c+a.EXTERNAL_LIB.SAFE_FRAME_URL;else{var n,r=function(e){var t=void 0;try{t=e.contentWindow?e.contentWindow.document:e.contentDocument.document?e.contentDocument.document:e.contentDocument}catch(e){o.logError("Error getting iframe document: "+e)}return t}(e);n=l(t),r.open("text/html","replace"),r.write(n),r.close()}},i.createIframe=function(e){var t=e.strategy,n=e.data,a=o.getWindow().document.createElement("iframe");a.width=0,a.height=0,a.border="0",a.hspace="0",a.vspace="0",a.tabIndex="-1",a.marginWidth="0",a.marginHeight="0",a.style.border="0",a.style.display="none",a.scrolling="no",a.frameBorder="0","WithContent"===t&&function(e,t){u(e),e.contentWindow.document.open(),e.contentWindow.document.write(t),e.contentWindow.document.close()}(a,n),"WithAttributes"===t&&function(e,t){e.src=t.src,e.id=t.id,u(e)}(a,n)}},function(e,t,n){var a=n(0),r=function(){var e=void 0,t={};return{getInstance:function(){return e||(e={add:function(e,n){t[e]=n},getIframe:function(e){return a.hasOwn(t,e)?t[e]:null},getIframes:function(){return t},resetInstance:function(){t={}}}),e}}}();e.exports=r},function(e,t,n){var a=n(0),r=n(1),i=n(20),o=n(12),s=n(21),d=r.TYPE.STRING,c=r.TYPE.NUM,u=r.TYPE.BOOL,l=t,g=r.DEBUG.AST_DONGLE,f=r.DEBUG.AST_TOOLKIT,p=r.DEBUG.AST_TEST,m=r.DEBUG.AST_DEBUG_MEMBER,v=r.DEBUG.AST_DEBUG_BIDDER;function h(e){var t=[];return a._each(e,function(e,n){if(a.isArray(e)){var r=[];a._each(e,function(e){(e=a.getValueString("keywords."+n,e))&&r.push(e)}),e=r}else{if(e=a.getValueString("keywords."+n,e),!a.isStr(e))return;e=[e]}var i={key:n,value:e};t.push(i)}),t}l.createPageUser=function(e){var t={};if(!a.isEmpty(e)){e.externalUid&&a.isStr(e.externalUid)&&(t.external_uid=e.externalUid),a.isEmpty(e.segments)||(t.segments=e.segments);var n=a.getValueAsType("user.age",e.age,c);t.age=n;var r=a.getValueAsType("user.gender",e.gender,c);t.gender=r;var i=a.getValueAsType("user.language",e.language,d);t.language=i;var o=a.getValueAsType("user.dnt",e.dnt,u);t.dnt=o}return t},l.createTag=function(e){var t={};if(e.uuid=a.getUUID(),!a.isEmpty(e.sizes)){var n=this.getSizes(e.sizes);a.isEmpty(n)||(t.sizes=n,t.primary_size=n[0])}if(!a.isEmpty(e.privateSizes)){var r=this.getSizes(e.privateSizes);a.isEmpty(r)||(t.private_sizes=r)}if(e.supplyType&&a.isStr(e.supplyType)&&(t.supply_type=e.supplyType),e.pubClick&&a.isStr(e.pubClick)&&(t.pubclick={url:e.pubClick}),e.pubClickEnc&&a.isStr(e.pubClickEnc)&&(t.pubclickenc={url:e.pubClickEnc}),e.reserve&&(a.isNumber(e.reserve)||a.isArray(e.reserve))&&(t.reserve=e.reserve),e.extInvCode&&a.isStr(e.extInvCode)&&(t.ext_inv_code=e.extInvCode),t.uuid=e.uuid,e.tagId&&(t.id=e.tagId),e.formats&&(t.formats=e.formats),e.position&&("above"===e.position?t.position=1:"below"===e.position?t.position=2:t.position=0),e.invCode&&(t.code=e.invCode),e.prebid&&(t.prebid=e.prebid),e.externalImpId&&(t.external_imp_id=e.externalImpId),!0===e.allowSmallerSizes?t.allow_smaller_sizes=!0:t.allow_smaller_sizes=!1,!0===e.disablePsa&&(t.disable_psa=!0),e.allowedFormats&&(t.ad_types=e.allowedFormats),!0!==e.usePmtRule&&!1!==e.usePmtRule||(t.use_pmt_rule=e.usePmtRule),!a.isEmpty(e.video)){var i=e.video,o={};i.id&&(o.id=i.id),a.isEmpty(i.mimes)||(o.mimes=i.mimes),i.maxDuration&&(o.maxduration=i.maxDuration),i.minDuration&&(o.minduration=i.minDuration),i.startDelay&&(o.startdelay=i.startDelay),i.skippable&&(o.skippable=i.skippable),i.skipOffset&&(o.skipoffset=i.skipOffset),a.isEmpty(i.playbackMethod)||(o.playback_method=i.playbackMethod),a.isEmpty(i.frameworks)||(o.frameworks=i.frameworks),t.video=o}if(!a.isEmpty(e.native)){var s=e.native,d={};s.renderer_id&&(d.renderer_id=s.renderer_id),s.placement_type&&(d.placement_type=s.placement_type);var c={};s.id&&(c.id=s.id),s.title&&(c.title=s.title),s.body&&(c.description=s.body),s.sponsoredBy&&(c.sponsored_by=s.sponsoredBy),s.image&&(c.main_image=s.image,a.isEmpty(c.main_image.sizes)&&(c.main_image.sizes=[{}])),s.icon&&(c.icon=s.icon,a.isEmpty(c.icon.sizes)&&(c.icon.sizes=[{}])),s.cta&&(c.ctatext=s.cta),s.desc2&&(c.desc2=s.desc2),s.rating&&(c.rating=s.rating),s.displayUrl&&(c.displayurl=s.displayUrl),s.likes&&(c.likes=s.likes),s.downloads&&(c.downloads=s.downloads),s.price&&(c.price=s.price),s.salePrice&&(c.saleprice=s.salePrice),s.phone&&(c.phone=s.phone),s.address&&(c.address=s.address),s.video&&(c.video={required:s.video.required||!1,min_duration:s.video.minDuration||0,max_duration:s.video.maxDuration}),s.privacySupported&&(c.privacy_supported=!0),c&&(d.layouts=[c]),t.ad_types=t.ad_types||[],-1===t.ad_types.indexOf("native")&&t.ad_types.push("native"),t.native=d}if(!a.isEmpty(e.keywords)){var u=h(e.keywords);t.keywords=u}if(e.forceCreativeId){var l=Number(e.forceCreativeId);isNaN(l)?a.logError("Force Creative must be a number"):(t.force_creative_id=l,a.logMessage("Force Creative in use for targetId: "+e.targetId))}return e.nobidIfUnsold&&(t.nobid_if_unsold=!0),e.trafficSourceCode&&(t.traffic_source_code=e.trafficSourceCode.toString()),e.customPubLog&&(a.isStr(e.customPubLog)?t.custom_pub_log=e.customPubLog:a.logError("customPubLog must be a string")),t},l.getSizes=function(e){var t=[],n={};if(a.isArray(e)&&2===e.length&&!a.isArray(e[0]))n.width=parseInt(e[0],10),n.height=parseInt(e[1],10),t.push(n);else if("object"==typeof e)for(var r=0;r<e.length;r++){var i=e[r];(n={}).width=parseInt(i[0],10),n.height=parseInt(i[1],10),t.push(n)}return t},l.buildRequestJsonByMemberId=function(e,t,n,r){var d={};e.disablePsa&&a._each(e.tags,function(e){e.disablePsa=!0}),e.gdpr_consent&&(d.gdpr_consent=e.gdpr_consent),e.us_privacy&&(d.us_privacy=e.us_privacy),e.geoOverride&&(d.geo_override={country_code:e.geoOverride.countryCode,postal_code:e.geoOverride.zip});var u=[],y=0;a._each(e.tags,function(e){if(!e.utCalled&&e.member===t&&function(e){if(!r)return!0;var t=!1;return a._each(r,function(n){e.targetId===n&&(t=!0)}),t}(e)){var n=l.createTag(e);e.utCalled=!0,e.tagNumber=y,y++,u.push(n)}}),i.build(e.tags,u,n);var b=s.getRefererInfo(),E={rd_ref:b.referer,rd_top:b.reachedTop,rd_ifs:b.numIframes,rd_stk:b.stack.join(",")};d.referrer_detection=E,d.tags=u,d.uuid=a.getUUID(),d.member_id=t,d.sdk={source:"ast",version:"0.28.0"};var w=null;a.isEmpty(e.keywords)?a.isEmpty(e.targetingParams)||(w=h(e.targetingParams),d.keywords=w):(w=h(e.keywords),d.keywords=w),a.isEmpty(e.user)||(d.user=this.createPageUser(e.user)),a.isEmpty(e.device)||(d.device=function(e){var t={},n=e.device;if(!a.isEmpty(n)){a.isEmpty(n.useragent)||(t.useragent=n.useragent),a.isEmpty(n.geo)||(t.geo=n.geo),a.isEmpty(n.ip)||(t.ip=n.ip),a.isEmpty(n.deviceType)||(t.devicetype=n.deviceType),a.isEmpty(n.make)||(t.make=n.make),a.isEmpty(n.model)||(t.model=n.model),a.isEmpty(n.os)||(t.os=n.os),a.isEmpty(n.osVersion)||(t.os_version=n.osVersion),a.isEmpty(n.carrier)||(t.carrier=n.carrier);var r=a.getValueAsType("device.connectionType",n.connectionType,c);t.connectiontype=r,a.isEmpty(n.mcc)||(t.mcc=n.mcc),a.isEmpty(n.mnc)||(t.mnc=n.mnc),a.isEmpty(n.lmt)||(t.lmt=n.lmt),a.isEmpty(n.deviceId)||(t.device_id=n.deviceId);var i=a.getValueAsType("device.devTime",n.devTime,c);t.devtime=i}return t}(e)),a.isEmpty(e.app)||(d.app=function(e){var t={},n=e.app;return a.isEmpty(n)||a.isEmpty(n.appid)||(t.appid=n.appid),t}(e)),a.isEmpty(e.site)||(d.site=function(e){var t={},n=e.site;return a.isEmpty(n)||a.isEmpty(n.id)||(t.id=n.id),t}(e)),e.publisherId&&(d.publisher_id=e.publisherId),e.auctionTimeout&&(d.auction_timeout_ms=e.auctionTimeout),d.tags=u;var I=a.getParameterByName(g),T=o.ls&&o.ls.getItem(g),_=I||apntag.dongle||T;_&&!apntag.dongle&&(apntag.dongle=_),((a.getParameterByName(f)||apntag.toolkit)&&_||!a.isEmpty(e.toolkit))&&(d.toolkit={enabled:!0,dongle:_||e.toolkit.dongle});var A=a.getParameterByName(m);A&&""!==A&&(apntag.debug_member=A);var S=a.getParameterByName(v);S&&""!==S&&(apntag.debug_bidder=S);var O="TRUE"===a.getParameterByName(p).toUpperCase();if(O&&""!==O&&(apntag.test=O),apntag.test||apntag.debug&&!a.isEmpty(apntag.dongle)){var k="";apntag.debug_member&&(k=apntag.debug_member);var x=function(e,t,n){var r={};return apntag.debug&&!a.isEmpty(t)&&(r.enabled=!0,e&&(r.member_id=Number(e)),t&&(r.dongle=String(t)),n&&(r.bidder_id=Number(n)),r.debug_timeout=1e3),apntag.test&&(r.test=apntag.test),r}(k,apntag.dongle,apntag.debug_bidder);d.debug=x}return d},l.setAmpFlag=function(e){return a.getWindow().context&&"AMP-AD"===a.getWindow().context.tagName&&(e.is_amp=!0),e}},function(e,t,n){e.exports=function(){var e={},t=[],n="";return{invokeNotify:function(n,r,i){t.push(p(n,r,i)),a._each(e,function(e){e.addNotifyMessage(p(n,r,i)),e.status!==u&&f(e)})},loadRenderer:function(t,n){var r=n.renderer_id;if(t.enableSafeFrame&&(!window.$sf||!window.$sf.ext))return r=function(e,t){return t.renderer_id+"_"+e.targetId}(t,n),void(e[r]=v(n.renderer_url,r,t));var o=e[r];if(o){var s=e[r];o.status===l?(y(t),i(s,t,g),t.displayed=!0):o.addTag(t)}else a.loadScript(window,n.renderer_url),e[r]=v(n.renderer_url,r,t)},setRendererStatus:function(t,n){var a=e[t];a&&(a.status=n,f(a))},registerRenderer:function(t,r,s){if(n=s,r=function(e){if(a.isFn(e))return{renderAd:e,notify:function(){}};if(a.isObj(e)&&a.isFn(e.renderAd))return{renderAd:e.renderAd,notify:e.notify}}(r),t&&e[t]&&a.isObj(r)){var d=e[t];d.renderFn=r.renderAd,d.notifyFn=r.notify,d.status=l,window.currentTag&&window.currentTag.enableSafeFrame&&(c=window.currentTag,u=t,p=l,m={name:"updateRenderStatus",targetId:c.targetId,rId:u,status:p},o.sendMessage(window.parent,m,n)),f(d),a._each(d.getTags(),function(e){e.displayed||(y(e),i(d.renderFn,e,function(e,t){g(e,t,d)}),e.displayed=!0)})}else a.logError("ast.js","registerRenderer must be called with (id, cbFn)");var c,u,p,m},clearState:function(){e={},t=[]}};function i(e,t,n){a.isFn(e)?e.call(apntag,t,n):a.isObj(e)&&(a.isFn(e.renderFn)?e.renderFn.call(apntag,t,n):a.logError("Error invoking rendererObj.renderAd(). renderAd must be a function"))}function g(e,t,a){a&&a.isSafeFrame?function(e,t){var a={name:"emitEvent",cmd:[e,t]};if(o.sendMessage(window.parent,a,n),apntag.mockSfListner&&apntag.mockSfListner.handler){apntag.mockSfListner.handler(apntag.mockSfListner.adObj);var r={name:"resizeAd",targetId:e,cmd:["auto","auto"]};o.sendMessage(window.parent,r,n)}}(e,t):apntag.emitEvent(e,t)}function f(e){a.isFn(e.notifyFn)&&a._each(e.getNotifyMessages(),function(t){t.sent||(t.sent=!0,e.notifyFn(t.messageType,t.messagePayload))})}function p(e,t,n){return{messageType:e,messagePayload:t,targetId:n,sent:!1}}function m(e,t,n){var a=[],r=[];this.getTags=function(){return a},this.addTag=function(e){a.push(e)},this.addNotifyMessage=function(e){r.push(e)},this.getNotifyMessages=function(){return r},this.url=e,this.id=t,this.status=u,this.renderFn=function(){},this.notifyFn=h,this.isSafeFrame=n.enableSafeFrame||!1,this.addTag(n)}function v(e,n,r){var i=new m(e,n,r);return function(e){a._each(t,function(t){e.addNotifyMessage(t)})}(i),i}function h(e,t){var n=this.getTags()[0].targetId;s.sendNotify(e,t,n)}function y(e){if(!e||!e.isMediated){var t=r.getAdObjByMediation(e);a.loadPixelUrl(window.document.body,t[d],t[c])}}}();var a=n(0),r=n(5),i=n(1),o=n(11),s=n(3),d=i.AD.NOTIFY,c=i.AD.CREATIVE_ID,u="loading",l="loaded"},function(e,t,n){var a=n(0),r=n(3),i=n(10),o=n(1),s=t;s.attach=function(e,t,n){a.addEventHandler(e,t,n)},s.handleMessage=function(e){if(e.origin===a.getCdnOrigin()&&"string"==typeof e.data){a.logInfo("Data sent from creative",e.data);var t=void 0;try{t=JSON.parse(e.data)}catch(t){return void("nobid"===e.data?a.logMessage("No bid response returned"):a.logError("Invalid data from creative: "+e.data))}if(a.hasOwn(t,"eventType"))"adError"===t.eventType&&window.apntag.recordErrorEvent(t.exception,t.targetId);else switch(t.name){case"expand":r.expandIframe(t);break;case"collapse":r.collapseIframe(t);break;case"cmp":r.getConsentManagement(t);break;case"resizeAd":apntag.resizeAd(t.targetId,t.cmd);break;case"mediatedNative":apntag.handleMediationBid(t.targetId,t.content);break;case"emitEvent":apntag.emitEvent.apply(null,t.cmd);break;case"message":break;case"updateRenderStatus":i.setRendererStatus(t.rId+"_"+t.targetId,t.status);break;case"setParentDivStyleDefaultProp":var n=document.getElementById(o.PREFIX.UT_DIV+t.targetId);a._each(t.cmd,function(e,t){""===n.style[t]&&(n.style[t]=e)})}}},s.sendMessage=function(e,t,n){"string"!=typeof t&&(t=JSON.stringify(t)),e.postMessage(t,n)}},function(e,t,n){var a=n(0),r=t;try{r.ls=window.localStorage}catch(e){a.logWarn("localStorage not available for current browser")}},function(e,t,n){var a=n(0),r=n(9),i=t,o=void 0,s=void 0,d=!0;i.performLookup=function(e,t){var n=t,i=void 0,c=void 0;function u(e){var t={consent_string:e?e[d?"tcString":"consentData"]:void 0,consent_required:e?e.gdprApplies:void 0};s.gdpr_consent=t}function l(e){clearTimeout(i),u(o),a.runOnce(g(e))}function g(e){e&&a.logWarn(e+" Resuming request without consent information."),n()}if((s=e).consentManagement&&(s.consentManagement.disabled||s.consentManagement.tcf&&s.consentManagement.tcf.disabled))return a.runOnce(g());var f=1e4;if(s.consentManagement&&a.isNumber(s.consentManagement.timeout)&&(f=s.consentManagement.timeout),o)return u(o),a.runOnce(g());i=setTimeout(function(){l(o?"":"CMP workflow exceeded timeout threshold.")},f),function(e,t){var n={};try{(c=window.__tcfapi||window.top.__tcfapi)||(c=window.__cmp||window.top.__cmp)&&(d=!1)}catch(e){}if(a.isFn(c))c(d?"addEventListener":"getConsentData",null,e);else if(window.$sf&&window.$sf.ext&&"function"==typeof window.$sf.ext.cmp)d=!1,u=Object.keys(s.tags),l=r.getSizes(s.tags[u[0]].sizes),window.$sf.ext.register(l[0].width,l[0].height,function(t,n){"cmpReturn"===t&&e(n.vendorConsentData)}),window.$sf.ext.cmp("getConsentData");else{for(var i=window,o=void 0;!o;){try{(i.frames.__tcfapiLocator||i.frames.__cmpLocator)&&(o=i),i.frames.__cmpLocator&&(d=!1)}catch(e){}if(i===window.top)break;i=i.parent}if(!o)return t("CMP not found.");!function(t){var r=d?"__tcfapi":"__cmp";function i(e){var t=d?"__tcfapiReturn":"__cmpReturn",a="string"==typeof e.data&&e.data.includes(t)?JSON.parse(e.data):e.data;if(a[t]){var r=a[t];n[r.callId](r.returnValue,r.success),d||delete n[r.callId]}}function o(t,n){d||a.removeEventHandler(window,"message",i,!1),e(t,n)}window[r]=function(e,a,i){var o,s,d,c=""+Math.random(),u=(d={command:e,parameter:a,callId:c},(s=r+"Call")in(o={})?Object.defineProperty(o,s,{value:d,enumerable:!0,configurable:!0,writable:!0}):o[s]=d,o);n[c]=i,t.postMessage(u,"*")},a.addEventHandler(window,"message",i,!1),d?window.__tcfapi("addEventListener",null,o):window.__cmp("getConsentData",null,o)}(o)}var u,l}(function e(t,n){d?function(){function r(){c&&c("removeEventListener",2,function(){},e)}n&&"object"==typeof t&&"string"==typeof t.tcString?"useractioncomplete"===t.eventStatus||"tcloaded"===t.eventStatus?(r(),clearTimeout(i),u(o=t),a.runOnce(g())):"cmpuishown"===t.eventStatus&&(o=t,t.tcString&&t.purposeOneTreatment&&(r(),clearTimeout(i),u(o),a.runOnce(g()))):l("CMP returned unexpected consentObject during lookup process; returned value was ("+t+")")}():"object"!=typeof t||"string"!=typeof t.consentData||""===t.consentData?l("CMP returned unexpected consentObject during lookup process; returned value was ("+t+")"):(clearTimeout(i),u(o=t),a.runOnce(g()))},l)},i.resetConsentData=function(){o=void 0,d=!0}},function(e,t,n){var a=t,r=n(0),i=r.getWindow(),o=n(3),s=n(7);function d(e){s.createIframe({strategy:"WithAttributes",data:{id:"itunes-launch-store",src:e.detail.url}})}a.attachSfHandlers=function(){r.addEventHandler(i,"focus",o.handleWindowFocus),r.addEventHandler(i,"blur",o.handleWindowBlur),r.addEventHandler(i,"resize",o.handleGeomUpdate),r.addEventHandler(i,"scroll",o.handleGeomUpdate),r.addEventHandler(i,"unload",function(){try{r.removeEventHandler(i,"focus",o.handleWindowFocus),r.removeEventHandler(i,"blur",o.handleWindowBlur),r.removeEventHandler(i,"resize",o.handleGeomUpdate),r.removeEventHandler(i,"scroll",o.handleGeomUpdate),o.removeHandlers()}catch(e){}})},a.initIphoneHandlers=function(){if(/(iPhone)/i.test(navigator.userAgent))try{r.addEventHandler(i.document,"apntag_iTunesLaunch",d)}catch(e){}}},function(e,t,n){var a=n(6),r=n(28),i=n(4),o=n(3),s=n(7),d=n(8),c=n(5),u=n(10),l=n(0),g=n(1),f=g.AD_TYPE.BANNER,p=g.AD_TYPE.NATIVE,m=g.UT_RESPONSE_PROP.AD_TYPE,v=g.AD_TYPE.VIDEO,h=g.UT_RESPONSE_PROP.BANNER,y=g.UT_RESPONSE_PROP.CONTENT,b=g.AD.CREATIVE_ID,E=g.EXPAND_OPTIONS,w=g.AD.IMP_URLS,I=g.AD.NOAD,T=g.OBJECT_TYPE.OBJECT,_=g.CONTENT_SOURCE.RTB,A=g.AD.TRACKERS,S=g.OBJECT_TYPE.UNDEFINED;e.exports=function(e,t,n,O){var k=void 0,x=void 0,N=void 0,R=e.adResponse;!function(e){if(e.adResponse&&e.adResponse.ads){var t=l.getAdObjFromAdsArray(e.adResponse.ads);if(t.banner){var n=e.initCollapsed,a=n&&n.expandBy&&l.values(E).indexOf(n.expandBy)>=0;n&&!a&&l.logWarn("TagID "+e.tagId+" initCollapsed is set but expandBy is not recognized, initial size will not be collapsed"),e.initialHeight=a?0:t.banner.height,e.initialWidth=a?0:t.banner.width}}}(e);var M,D=c.getAdObjByMediation(e);if(typeof D===S||null===D||typeof D.error!==S)return M=R,void l.loadPixelUrl(window.document.body,M[I],M.uuid);if(R&&e.showTagCalled&&!function(e,t){if(t.renderer_url&&t.renderer_id){if(e.usesRenderer=!0,2===t.renderer_id&&e.enableSafeFrame&&(e.safeframe.expansionByPush=!0,e.customIframeProps={style:"overflow:hidden",allow:"autoplay"}),!e.enableSafeFrame)return function(e,t){var n=c.getContentSourceForMediation(t);if(typeof n===S)return void l.logError("No Content Source Found");t[t.ad_type]=n;c.copyAdObjforMediation(e),u.loadRenderer(e,t)}(e,t),!0;u.loadRenderer(e,t)}}(e,D)){if(D[m]===p&&!e.usesRenderer)return l.logMessage("Render for the following ad should be handled outside of ast.js :"+e.targetId),e.displayed=!0,N=a.getAdObj(e.adResponse),i.emit(g.EVENTS.LOADED,e.targetId,N),void l.logTimestamp("The "+e.targetId+" ad is loaded.");if(D[m]!==v||e.usesRenderer){if(D[m]===f||e.usesRenderer){if(D.content_source===_&&!e.usesRenderer){var P=D[_][h];if(l.isEmpty(P)||typeof P!==T)return void l.logError("Response has no banner object");if(!l.hasOwn(P,y))return void l.logError("Response has no banner content");if(!l.hasOwn(P,"width"))return void l.logError("Response has no banner width");if(!l.hasOwn(P,"height"))return void l.logError("Response has no banner height")}var C=void 0;l.hasOwn(n,e.targetId)&&(C=n[e.targetId]);var q=void 0;if(e.alwaysUseXDomainIframe||e.enableSafeFrame){O();var B=(q=window.document.getElementById(e.targetId)).style.height,U=q.style.width;q.style.height=e.initialHeight,q.style.width=e.initialWidth,q.style.height=B,q.style.width=U}var F=l.cloneAsObject(t);l.hasOwn(e.safeframe,"expansionByPush")&&(F.expansionByPush=e.safeframe.expansionByPush),l.hasOwn(e.safeframe,"expansionByOverlay")&&(F.expansionByOverlay=e.safeframe.expansionByOverlay),l.hasOwn(e.safeframe,"sandbox")&&(F.sandbox=e.safeframe.sandbox),l.hasOwn(e.safeframe,"meta")&&(F.meta=e.safeframe.meta),e.safeframe=F,x=function(e){var t=void 0,n=l.getUtDivId(e),a=e.curWindow||window;t=a.document.getElementById(n)?a.document.getElementById(n):a.document.createElement("div");return t.style.display="none",t.id=n,t}(e),(e.alwaysUseXDomainIframe||e.enableSafeFrame)&&(x.style.height=e.initialHeight+"px",x.style.width=e.initialWidth+"px",x.style.display="block",q.appendChild(x),e.geom=o.geomInit(e.targetId,x)),k=s.getIframe(e,D);var W=d.getInstance(),L={};if(L.iframe=k,L.originalWidth=e.initialWidth,L.originalHeight=e.initialHeight,W.add(e.targetId,L),n[e.targetId]=k,typeof C!==S&&window.document.getElementById(C.id)?x.replaceChild(k,C):x.appendChild(k),e.displayed=!0,window.document.body)try{!function(e,t,n){var o=r.getBrowserType(),d=(e.curWindow||window).document.getElementById(e.targetId);if(d){e.alwaysUseXDomainIframe||e.enableSafeFrame||(d.appendChild(t),t.style.display="inline"),e.utDivId=t.id,e.utiframeId=n.id,o===g.BROWSER_TYPE.IE||o===g.BROWSER_TYPE.OPERA?s.loadIeIframe(n,e):s.loadIframe(n,e);var u=e.adResponse.ads?e.adResponse.ads[0]:e.adResponse.ad;if(void 0===u)return void l.logWarn("No ad found in response, nothing to display.");(!e.isMediated&&!e.usesRenderer||e.adResponse.ad&&"rtb"===e.adResponse.ad.content_source)&&(!function(e,t){for(var n=e[_][A][0][w],a=0;a<n.length;a++)l.loadPixelUrl(t.parentElement,n[a],e[b])}(u,n),l.logMessage("Win notification sent for ad tag: "+e.targetId));var f=c.getContentSourceForMediation(u),p=Number(d.style.width.replace(/[^\d\.\-]/g,""));!isNaN(p)&&p>f.width&&("center"===e.promoAlignment?d.setAttribute("align","center"):d.setAttribute("align","left")),l.logMessage("The "+e.targetId+" ad is loaded."),l.logTimestamp("The "+e.targetId+" ad is loaded.");var m=a.getAdObj(e.adResponse);e.usesRenderer||apntag.requests.enableMediationEvents&&e.isMediated||i.emit(g.EVENTS.LOADED,e.targetId,m)}else l.logWarn("No div element found for display ad. This ad will not show. Div id: "+e.targetId)}(e,x,k)}catch(e){l.logError("Error rendering ad: ",e)}else l.logError("Error rendering ad: window.document.body is undefined")}else l.logError("Error rendering ad: unknown type");return e.targetId}l.logWarn("Response has no renderer for video")}}},function(e,t,n){"use strict";n.r(t),n.d(t,"buildPostRequestParams",function(){return m}),n.d(t,"recordErrorEventForAllRequests",function(){return v}),n.d(t,"getJSONPUrl",function(){return h}),n.d(t,"loadTags",function(){return w});var a=n(0),r=n(1),i=n(9),o=n(13),s=n(29),d=n(4),c=n(6),u=n(2),l=u._internalTagArr,g=u.tagMemberId,f=u.baseWindow,p=u.getEndPoint,m=function(e){var t={},n=p();return t.url=n,t.data=JSON.stringify(e),t};function v(e,t,n,r,i){a._each(g[t],function(t){!function(e,t,n,a,r){0===n&&(e="Failure to contact endpoint. This can be caused by invalid CORS headers or failure of server to respond.");var i=apntag.requests.tags[t],o=void 0;i&&(o=c.getAdObj(i.adResponse));var s=c.getAdErrorObj(e,t,r,n);d.emit(a,t,s,o)}(e,t,n,r,i)})}var h=function(e){return e.url+(e.url.indexOf("?")+1?"&":"?")+"cb=apntag.handleCb&q="+encodeURI(e.data)},y=function(e,t){var n=f,i=h(e),o=a.loadScript(n,i);apntag.requests.utCalled=!0,o.onload=function(){a.logMessage("JSONP fallback used instead of POST.")},o.onerror=function(n){if(!apntag.requests.errorReported){var i="Unknown script error contacting endpoint over JSONP. Endpoint: "+e.url;v(i,t,"-1",r.EVENTS.REQUEST_FAIL,n),a.logError(i)}},o.onreadystatechange=function(n){if(!("loaded"!==o.readyState&&"complete"!==o.readyState||apntag.requests.cbCalled||apntag.requests.errorReported)){apntag.requests.errorReported=!0;var i="Unknown network error contacting endpoint over JSONP. Endpoint: "+e.url;v(i,t,"-1",r.EVENTS.REQUEST_FAIL,n),a.logError(i)}}},b=function(e,t){!function(e){a._each(apntag.requests.tags,function(e){e.utCalled||d.emit(r.EVENTS.REQUEST,e.targetId)}),a.logTimestamp("Ad is requested for member "+e)}(e);var n=i.buildRequestJsonByMemberId(apntag.requests,e,l,t);n=i.setAmpFlag(n);var o=m(n);a.isEmpty(n.tags)?a.logWarn("ast.loadTagsByMemberId: no defined tags at this point so no /UT request will be made"):"withCredentials"in new XMLHttpRequest?function(e,t){var n=e.data,i=new XMLHttpRequest;i.onload=function(){var e=null;if(200===i.status)try{e=JSON.parse(i.responseText),apntag.handleCb(e,n)}catch(e){a.logError("failed to parse ad response from impbus: "+e.message),v(e.message,t,i.status,r.EVENTS.REQUEST_FAIL,e)}else a.logError(i.status+" : "+i.statusText),v(i.statusText,t,i.status,r.EVENTS.REQUEST_FAIL)},i.onerror=function(n){var a=n.target.status;v("Error contacting impbus endpoint: "+e.url+" http response code:"+a,t,a,r.EVENTS.REQUEST_FAIL)},i.open("POST",e.url,!0),i.setRequestHeader("Content-Type","text/plain"),i.withCredentials=!0;try{i.send(n),apntag.requests.utCalled=!0}catch(n){a.logError("Error making POST request: "+n),y(e,t)}}(o,e):y(o,e)},E=function(e){a._each(g,function(t,n){if("none"===n)b(n,e);else{var r=Number(n);isNaN(r)?a.logError("Invalid value for member"):b(r,e)}})},w=function(e){e=e||a._map(apntag.requests.tags,function(e){return e.targetId}),a.isArray(e)||(e=[e]);var t=!1,n=!1;o.performLookup(apntag.requests,function(){t=!0,n&&E(e)}),s.performLookup(apntag.requests,function(){n=!0,t&&E(e)})}},function(e,t,n){"use strict";n.r(t),n.d(t,"getTag",function(){return u}),n.d(t,"getRequestTagsforRefresh",function(){return l}),n.d(t,"refreshTags",function(){return g});var a=n(0),r=n(1),i=n(16).loadTags,o=n(2),s=o._externalTagMap,d=o.baseWindow,c=o.renderedAdDivs;function u(e){if(a.logMessage("getTag called for tag "+e),a.checkDefinedTag(e))return e&&s[e]?s[e]:void 0;a.logError("the "+e+" tag is not defined.",r.LOG.WARN)}var l=function(e){var t={};return 0===e.length?apntag.requests.tags:(a._each(apntag.requests.tags,function(n,a){for(var r=0;r<e.length;r++)e[r]===a&&(t[a]=n)}),t)},g=function(e){apntag.requests.utCalled=!1,apntag.requests.hasLeft=!1,apntag.requests.cbCalled=!1,apntag.requests.errorReported=!1;var t=a.getTargetArrayforRefresh(e),n=l(t);a._each(n,function(e,t){a._each(c,function(e){if(t===e){var n=d.document.getElementById(e);if(!n)return;for(;n.hasChildNodes();)n.removeChild(n.firstChild)}})}),a._each(n,function(e){e.utCalled=!1,e.displayed=!1,e.isMediated=!1,e.isBannerMediation=!1,e.isVideoMediation=!1,e.ad={}});try{i()}catch(e){a.logError("refreshTags "+e.message)}}},function(e,t,n){var a=n(19),r=n(0),i=n(4),o=n(1),s=(n(5),n(6)),d=n(10),c=n(7),u=n(11),l=n(8),g=n(14),f=n(3),p=n(23).setPageOptions,m=n(24),v=m.defineTag,h=m.doSizeMapping,y=n(26).handleCb,b=n(16),E=b.loadTags,w=(b.buildPostRequestParams,b.getJSONPUrl,b.recordErrorEventForAllRequests),I=n(30).doAsyncShowTag,T=n(17),_=T.refreshTags,A=T.getTag,S=(T.getRequestTagsforRefresh,n(31).resizeAd),O=n(2),k=(O._internalTagArr,O.safeframe),x=O.getIframeElementMap,N=O.setIframeElementMap,R=O.baseWindow,M=O.setEndpoint,D=(O.getEndPoint,O.getShowTagDefinedMap),P=O.setShowTagDefinedMap,C=o.AD_TYPE.NATIVE,q=o.AD_TYPE.VIDEO,B=o.OBJECT_TYPE.UNDEFINED,U=o.OBJECT_TYPE.NUMBER,F=o.AD.NOAD;u.attach(R,"message",u.handleMessage),k.expansionByPush=!1,k.expansionByOverlay=!0,k.readCookie=!1,k.writeCookie=!1,k.sandbox=!1,g.initIphoneHandlers();try{console.info?console.info("AST library loaded: 0.28.0"):console.log("AST library loaded: 0.28.0")}catch(e){}R.apntag=typeof R.apntag!==B?R.apntag:{};var W=R.apntag;function L(e){var t={};return r._each(W.requests.tags,function(n){e!==n.uuid&&e!==n.targetId||(t=n)}),t}W.anq=W.anq||[],W.debug=W.debug||!1,W.dongle=W.dongle||void 0,W.test=W.test||!1,W.loaded=!0,W.requests=W.requests||{},W.requests.keywords=W.requests.keywords||{},M(o.ENDPOINT.IMPBUS),W.requests.tagsOnPageCount=W.requests.tagsOnPageCount||0,W.requests.waitOnTagsCount=W.requests.waitOnTagsCount||0,W.requests.showTagDefinedMap=W.requests.showTagDefinedMap||D(),W.highlightAd=function(e){if(r.logInfo("Invoking apntag.highlightAd",arguments),e){var t=x()[e];t&&(t.style.border="3px solid #e67300")}},W.anq.push=function(e){e.call()},W.setEndpoint=function(e){r.logInfo("Invoking apntag.setEndpoint",arguments),M(e)},W.setPageOpts=function(e){r.logInfo("Invoking apntag.setPageOpts",arguments),p(e)},W.defineTag=function(e){return r.logInfo("Invoking apntag.defineTag",arguments),v(e)},W.getTag=function(e){if(!e||r.checkDefinedTag(e)){var t=void 0,n=void 0;return e?(n=A(e),t=r.getTagData(W.requests.tags[e],n)):(t={},Object.keys(W.requests.tags).forEach(function(e){n=A(e),t[e]=r.getTagData(W.requests.tags[e],n)})),t}r.logError(e+" is not defined.",o.LOG.WARN)},W.getAdWrap=function(e){if(r.logInfo("Invoking apntag.getAdWrap",arguments),r.checkDefinedTag(e))return e&&W.requests.tags&&W.requests.tags[e]&&W.requests.tags[e].adWrap?W.requests.tags[e].adWrap:void 0;r.logError("the "+e+" tag is not defined.",o.LOG.WARN)},W.setSizes=function(e,t){r.logInfo("Invoking apntag.setSizes",arguments),arguments.length<2&&(t=e,e=this.targetId),r.checkDefinedTag(e)?W.requests.tags[e].sizes=t:r.logError("the "+e+" tag is not defined.",o.LOG.WARN)},W.modifyTag=function(e,t){r.logInfo("Invoking apntag.modifyTag",arguments);var n={};arguments.length<2&&(t=e,e=this.targetId),r.checkDefinedTag(e)?((t.sizes||t.sizeMapping)&&h(t,e),r._each(W.requests.tags[e],function(e,t){n[t]=e}),r._each(t,function(e,t){n[t]=e}),W.requests.tags[e]=n):r.logError("the "+e+" tag is not defined.",o.LOG.WARN)},W.setKeywords=function(e,t,n){r.logInfo("Invoking apntag.setKeywords",arguments);var a={};"object"==typeof t&&null!==t?r.checkDefinedTag(e)?(r._each(W.requests.tags[e],function(e,t){a[t]=e}),a.keywords=a.keywords||{},"object"==typeof n&&null!==n&&!0===n.overrideKeyValue?r._each(t,function(e,t){a.keywords[t]=e}):r._each(t,function(e,t){r.hasOwn(a.keywords,t)?r.isArray(a.keywords[t])?a.keywords[t]=a.keywords[t].concat(e):a.keywords[t]=[a.keywords[t]].concat(e):a.keywords[t]=e}),W.requests.tags[e]=a):r.logError("the "+e+" tag is not defined.",o.LOG.WARN):r.logWarn("unable to set keywords it should be an object")},W.onEvent=function(e,t,n){if(r.logInfo("Invoking apntag.onEvent",arguments),2===arguments.length&&"function"==typeof t&&typeof this.targetId===B)n=t,t="*";else if(arguments.length<3&&(n=t,t=this.targetId,!r.checkDefinedTag(t)))return void r.logError("the "+t+" tag is not defined.",o.LOG.WARN);i.on(e,t,n)},W.offEvent=function(e,t,n){if(r.logInfo("Invoking apntag.offEvent",arguments),1===arguments.length&&typeof this.targetId===B)t="*";else if(arguments.length<2&&(t=this.targetId,!r.checkDefinedTag(t)))return void r.logError("the "+t+" tag is not defined.",o.LOG.WARN);if(r.isArray(e))for(var a=0;a<e.length;a++)i.off(e[a],t,n);else i.off(e,t,n)},W.loadTags=function(e){r.logInfo("Invoking apntag.loadTags",arguments),E(e)},W.refresh=function(e){r.logInfo("Invoking apntag.refresh",arguments),_(e)},W.resizeAd=function(e,t){r.logInfo("Invoking apntag.resizeAd",arguments),S(e,t)},W.enableCookieSet=function(){r.logWarn("apntag.enableCookieSet has been depreciated"),a.enable()},W.collapseAd=function(e,t,n){r.logInfo("Invoking apntag.collapseAd",arguments),r.logWarn("apntag.collapseAd has been depreciated, Please use apntag.resizeAd");var a=0,d=0,c=A(e);if(c){var u=r.getUtDivId(c);typeof t===U&&(a=t),typeof n===U&&(d=n);var l=R.document.getElementById(u);if(null!==l){W.resizeAd(e,[d,a]),l.style.height=a,l.style.width=d,l.style.display="none";var g=W.requests.tags[e],f=s.getAdObj(g.adResponse);i.emit(o.EVENTS.COLLAPSE,e,f)}else r.logError("CollapseAd failed to find ad div : "+e)}else r.logError("CollapseAd failed to find targetId : "+e)},W.showTag=function(e,t){r.logInfo("Invoking apntag.showTag",arguments),I(e,t=t||R)},W.setPageTargeting=function(e,t){r.logInfo("Invoking apntag.setPageTargeting",arguments),W.requests.targetingParams&&e&&t&&(W.requests.targetingParams[e]=t)},W.getPageTargeting=function(e){if(r.logInfo("Invoking apntag.getPageTargeting",arguments),W.requests.targetingParams&&e)return W.requests.targetingParams[e]},W.clearPageTargeting=function(e){r.logInfo("Invoking apntag.clearPageTargeting",arguments),W.requests.targetingParams&&e&&delete W.requests.targetingParams[e]},W.enableDebug=function(){W.debug=!0,r.logInfo("Invoking apntag.enableDebug",arguments)},W.disableDebug=function(){r.logInfo("Invoking apntag.disableDebug",arguments),W.debug=!1},W.notify=function(e,t,n){e?d.invokeNotify(e,t,n):r.logError("apntag.notify must be called with `messageType`")},W.registerRenderer=function(e,t){r.logInfo("Invoking apntag.registerRenderer",arguments),d.registerRenderer(e,t)},W.getAstVersion=function(){return r.logInfo("Invoking apntag.getAstVersion"),"0.28.0"},W.recordErrorEvent=function(e,t){r.logInfo("Invoking apntag.recordErrorEvent",arguments);var n=W.requests.tags[t],a=s.getAdObj(n.adResponse),d=s.getAdErrorObj(e.message,t,e,200);i.emit(o.EVENTS.ERROR,t,d,a)},W.clearRequest=function(){r.logInfo("Invoking apntag.clearRequest",arguments),W.requests={},W.requests.tags={},P({}),l.getInstance().resetInstance(),N({})},W.handleCb=function(e,t){r.logInfo("Invoking apntag.handleCb",arguments);try{y(e,t)}catch(e){var n=e.message?e.message:e;r.logError("Internal AST error : ",e);w(n,void 0,200,o.EVENTS.BAD_REQUEST,e)}},W.emitEvent=function(e,t,n){n&&n.content_source&&!W.requests.enableMediationEvents||(r.logInfo("Invoking apntag.emitEvent",arguments),function(e,t,n){var a=L(e),d=s.getAdObjByResponseType(a,e,n);r.logMessage("handling event for DOM ID:  "+d.targetId+" eventType : "+t),(t=t===o.RENDERER_EVENTS.LOADED?"adLoaded":t)===o.EVENTS.LOADED||t===o.EVENTS.LOADED_MEDIATED||t===o.EVENTS.NO_BID_MEDIATED?i.emit(t,d.targetId,d):i.emit(t,d.targetId);t===o.EVENTS.NO_BID&&a.isMediated&&(c=a.adResponse,r.loadPixelUrl(window.document.body,c[F],c.uuid));var c}(e,t,n))},W.getAdMarkup=function(e,t){if(W.requests.tags&&W.requests.tags[e]){var n=W.requests.tags[e];if(n.uuid===t)return n.adResponse.ads}},W.setSafeFrameConfig=function(e){r.hasOwn(e,"allowExpansionByPush")&&(k.expansionByPush=e.allowExpansionByPush),r.hasOwn(e,"allowExpansionByOverlay")&&(k.expansionByOverlay=e.allowExpansionByOverlay),r.hasOwn(e,"sandbox")&&(k.sandbox=e.sandbox),r.hasOwn(e,"meta")&&(k.meta=e.meta)},W.fireImpressionTrackers=function(e){if(!e.impressionTrackersFired){e.impressionTrackersFired=!0,r.logInfo("Firing impression trackers for",e.tagId);var t=e.native&&e.native.impressionTrackers;t&&t.length&&t.forEach(function(e){r.loadPixelUrl(R.document.body,e)});var n=e.native&&e.native.javascriptTrackers;n&&c.createIframe({strategy:"WithContent",data:n})}},W.attachClickTrackers=function(e,t){var n=document.getElementById(t);n?(r.logInfo("Attaching click track handler to",t),r.addEventHandler(n,"click",function(){var t=e.native&&e.native.clickTrackers;t&&t.length&&(r.logInfo("Firing click trackers for",e.tagId),t.forEach(function(e){r.loadPixelUrl(R.document.body,e)}))})):r.logError("HTML element with id "+t+" not found, click trackers not attached")},W.checkAdAvailable=function(e){return s.checkAdAvailable(e)},W.handleMediationBid=function(e,t){var n=L(e);function a(){W.resizeAd(e,[0,0])}if(t.renderer_url)n.displayed=!1,t.targetId=e,n.enableSafeFrame?f.loadRenderer(n):d.loadRenderer(n,t),a(),t.ad_type===q&&function(e){try{var t=W.requests.tags[e].adResponse.ads,n=t[t.length-1];W.requests.tags[e].adResponse.ads=[n]}catch(e){r.logInfo("Trying to set adresponse for video renderer",e)}}(n.targetId);else{var c=s.getAdObj(n.adResponse,t);c.adType===C&&a(),i.emit(o.EVENTS.LOADED,e,c)}};r.logTimestamp("AST library loaded"),function(){for(var e=0;e<W.anq.length;e++)typeof W.anq[e].called===B&&(W.anq[e].call(),W.anq[e].called=!0)}(),W.requests.checkDisplay||function(e){var t=!1;function n(){t||(t=!0,e())}if(document.addEventListener)document.addEventListener("DOMContentLoaded",n,!1);else if(document.attachEvent){var a=void 0;try{a=null!==window.frameElement}catch(e){}if(document.documentElement.doScroll&&!a){var r=function(){if(!t)try{document.documentElement.doScroll("left"),n()}catch(e){setTimeout(r,10)}};r()}document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n()})}if(window.addEventListener)window.addEventListener("load",n,!1);else if(window.attachEvent)window.attachEvent("onload",n);else{var i=window.onload;window.onload=function(){i&&i(),n()}}}(r.checkPlacements),"function"==typeof window.define&&window.define.amd&&window.define("appnexusAst",[],function(){return window.apntag})},function(e,t,n){"use strict";n.r(t),n.d(t,"enable",function(){return g}),Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch(e){return!1}}()||(Object.defineProperty=function(e,t,n){e[t]=n.value});var a,r='<div class="ancookie-header" id="ancookie-container">\n  <div id="ancookie-nav">\n    <div></div>\n  </div>\n  <div id="ancookie-slider">\n    <p id="ancookie-msg">Your browser blocks 3rd party cookies by default. By clicking on page you allow our partner AppNexus to place cookies to show relevant ads. Read more or opt out of these cookies <a href="https://www.appnexus.com/en/company/platform-privacy-policy#choices" target="_blank" style="color: #4f4f4f;">here</a>. This notice appears once </p>\n    <div id="ancookie-close">&times</div>\n  </div>\n</div>\n',i=".ancookie-header {\n  background: #d3d3d3;\n  text-overflow: ellipsis;\n  border-collapse: collapse;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  min-height: 38px;\n}\n\n.ancookie-header * {\n  font-size: 12px;\n  font-family: Verdana, Arial, Helvetica, sans-serif !important;\n  color: #555;\n  line-height: normal !important;\n  margin: 0;\n  padding: 0;\n}\n\n.ancookie-header p {\n  padding: 10px 10px 10px 38px;\n  text-align: left;\n}\n\n.ancookie-header a:link,\n.ancookie-header a:hover,\n.ancookie-header a:visited,\n.ancookie-header a:active {\n  color: #e6e6e6;\n  text-decoration: underline;\n  font-weight: 700;\n}\n\n.ancookie-header {\n  position: fixed;\n  opacity: 0.9;\n}\n\n.ancookie-header * {\n  font-size: 11px !important;\n}\n\n#ancookie-msg {\n  height: 34px;\n  opacity: 0;\n}\n\n@media only screen and (min-width: 1224px) {\n  .ancookie-header * {\n    font-size: 12px !important;\n  }\n\n  #ancookie-msg {\n    height: 20px;\n    opacity: 0;\n  }\n}\n\n@media only screen and (min-device-width: 768px) and (max-device-width: 1024px) {\n  .ancookie-header {\n    position: fixed;\n  }\n}\n\n.ancookie-header {\n  z-index: 9999;\n  opacity: 1;\n}\n\n#ancookie-slider {\n  overflow: hidden;\n  padding: 10px;\n  box-sizing: border-box;\n}\n\n#ancookie-slider p {\n  position: relative;\n  margin: 0;\n  padding: 0;\n  opacity: 0;\n  -webkit-column-gap: 20px;\n  -webkit-column-rule-width: 0;\n}\n\n#ancookie-nav {\n  position: absolute;\n  right: 0;\n  left: 0;\n  top: -11px;\n  z-index: 200;\n  text-align: center;\n}\n\n#ancookie-nav div {\n  display: inline-block;\n  padding: 0 10px;\n  background-color: #d3d3d3;\n  border-radius: 10px 10px 0 0;\n}\n\n#ancookie-nav span {\n  display: inline-block;\n  width: 6px;\n  height: 6px;\n  background-color: #e6e6e6;\n  border-radius: 50%;\n  margin: 1px 2px;\n  box-sizing: border-box;\n  -webkit-transition: all 0.5s cubic-bezier(0.23, 1, 0.32, 1);\n  -webkit-opacity: 0.5;\n}\n\n#ancookie-nav span.selected {\n  background-color: #555;\n  -webkit-transition: all 0.5s cubic-bezier(0.23, 1, 0.32, 1);\n  -webkit-opacity: 1;\n}\n\n#ancookie-close {\n  position: absolute;\n  right: 5px;\n  bottom: 20px;\n  cursor: pointer;\n  -webkit-transform: scale(1.5);\n  transform: scale(1.5);\n}\n";function o(e){s.setParentNode(e),s.getContainer().querySelector("#ancookie-close").addEventListener("click",function(){e.remove()});var t,n=function(){var e=s.getSliderElement(),n=d(e),r=s.getMessageElement();r.setAttribute("style","-webkit-transition: none; -webkit-transform: translateX(0); -webkit-column-width: "+n+"px;");var i=s.getNav();i.innerHTML="",clearTimeout(t),t=setTimeout(function(){clearInterval(a),r.style.webkitTransition="opacity 0.3s ease-out",r.style.opacity=1;var t=e.scrollWidth+10,o=Math.round(t/n);1<o&&(function(e){for(var t="<span class=selected></span>",n=1;n<2;n++)t+="<span></span>";e.innerHTML=t}(i),function(){var e,t=d(s.getSliderElement()),n={cycles:2,isFirstSlide:!0};a=setInterval(function(){n.cycles||clearInterval(a),e=n.isFirstSlide?1:0,n=function(e,t,n){var a=s.getMessageElement();a.style.webkitTransition="opacity 0.3s ease-out, -webkit-transform "+t+"s cubic-bezier(0.23, 1, 0.32, 1)",a.style.webkitTransform="translateX("+e+"px)",0==e&&n.cycles--,n.isFirstSlide=!n.isFirstSlide;for(var r=s.getContainer().querySelectorAll("span"),i=0;i<r.length;i++)"selected"===r[i].className?r[i].removeAttribute("class"):r[i].setAttribute("class","selected");return n}(-1*e*t,1.2,n)},3e3)}())},300)};n(),window.addEventListener("resize",n)}var s=function(){var e,t,n,a,r;return{getContainer:function(){return e||(e=r.querySelector("#ancookie-container")),e},getMessageElement:function(){return t||(t=r.querySelector("#ancookie-msg")),t},getSliderElement:function(){return n||(n=r.querySelector("#ancookie-slider")),n},getNav:function(){return a||(a=r.querySelector("#ancookie-nav div")),a},setParentNode:function(e){r=e}}}();function d(e){return e.offsetWidth}var c="http://ib.adnxs.com/seg?add=1&redir=",u="//ib.adnxs.com/getuidj",l=!1;function g(e){e&&e.override&&(c=e.override),e&&e.cookieUrl&&(u=e.cookieUrl);var t=window.addEventListener?"addEventListener":"attachEvent",n=window[t],a="attachEvent"==t?"onload":"load";"complete"===document.readyState||"interactive"===document.readyState?f():n(a,function(e){f()},!1)}function f(){l||(l=!0,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(function(){if("true"!==document.cookie.replace(/(?:(?:^|.*;\s*)anCookiesetFooter\s*\=\s*([^;]*).*$)|^.*$/,"$1")){var e=function(){var e=document.createElement("div");e.id="cookiemsg-slider";var t='<style media="screen">'+i+"</style>";return e.innerHTML=t+r,e}();document.body.appendChild(e),o(e),document.cookie="anCookiesetFooter=true; expires=Fri, 31 Dec 9999 23:59:59 GMT"}}(),function(e,t){var n;try{n=new XMLHttpRequest}catch(e){return}n.open("GET",e),n.withCredentials=!0,n.onreadystatechange=function(){if(4===n.readyState&&200===n.status)try{var e=JSON.parse(n.responseText);t(e)}catch(e){console.error(e)}},n.send()}(u,p)):console.log("Not safari, skipping link override"))}function p(e){console.log(e.uid),0===(parseInt(e.uid,10)||0)&&function(){console.log("Perfoming link override.");for(var e=0;e<document.links.length;e++){var t=document.links[e];t.href=c+encodeURIComponent(t.href)}}()}},function(e,t,n){var a=n(0),r=n(1),i=t,o=[],s=r.DEBUG.AST_OVERRIDE,d=s.BASE,c=d+s.DIV,u=d+s.INDEX,l=d+s.TAG_ID,g=d+s.INV_CODE,f="force_creative_id";function p(e){return a.getParameterByName(e,i.queryString)}function m(e,t,n){var r=Number(t);if(isNaN(r))a.logError("Force Creative must be a number");else{e[f]=r,apntag.test=!0;var i=function(e,t){var n=null;return a._each(t,function(t){t.uuid===e.uuid&&(n=t.targetId)}),n}(e,n);a.logMessage("Force Creative in use for targetId: "+i)}}i.queryString=void 0,i.build=function(e,t,n){if(a.stringContains(i.queryString||a.getSearchQuery(),d)){var r=void 0,s=void 0,f=void 0,v=void 0,h=void 0,y=void 0;if(!a.isEmpty(p(u)))for(o=p(u).split(","),r=0;r<o.length;r++){h=o[r].split(":");var b=Number(h[0]);if(isNaN(b)||void 0===t[b])a.logError("Invalid ast_override value for index : "+b);else{y=null;var E=null;for(v=0;v<n.length;v++)v===b&&(E=n[v].uuid);for(f=0;f<t.length;f++)t[f].uuid===E&&m(t[f],h[1],e)}}if(!a.isEmpty(p(c)))for(o=p(c).split(","),r=0;r<o.length;r++){h=o[r].split(":");var w=null,I=Object.keys(e);for(f=0;f<I.length;f++)h[0]===I[f]&&(w=e[I[f]].uuid);if(w)for(s=0;s<t.length;s++)t[s].uuid===w&&m(t[s],h[1],e);else a.logError("Invalid ast_override value for target div id : "+h[0])}if(!a.isEmpty(p(l)))for(o=p(l).split(","),r=0;r<o.length;r++){h=o[r].split(":");var T=!1;for(s=0;s<t.length;s++)(y=t[s]).id===Number(h[0])&&(m(y,h[1],e),T=!0);T||a.logError("Invalid ast_override value for tag id : "+h[0])}if(!a.isEmpty(p(g)))for(o=p(g).split(","),r=0;r<o.length;r++){h=o[r].split(":");var _=!1;for(s=0;s<t.length;s++)(y=t[s]).code===h[0]&&(m(y,h[1],e),_=!0);_||a.logError("Invalid ast_override value for invCode : "+h[0])}return t}}},function(e,t,n){var a=n(0);t.detectReferer=function(e){function t(){var t=function(){var t=[],n=void 0;do{try{n=n?n.parent:e;try{t.push({referrer:n.document.referrer||null,location:n.location.href||null,isTop:n===e.top})}catch(r){t.push({referrer:null,location:null,isTop:n===e.top}),a.logWarn("Trying to access cross domain iframe. Continuing without referrer and location")}}catch(e){return t.push({referrer:null,location:null,isTop:!1}),t}}while(n!==e.top);return t}(),n=function(){try{if(!e.location.ancestorOrigins)return;return e.location.ancestorOrigins}catch(e){}}();if(n)for(var r=0,i=n.length;r<i;r++)t[r].ancestor=n[r];return t}return function(){try{var e=t(),n=e.length-1,a=null!==e[n].location||n>0&&null!==e[n-1].referrer,r=function(e){var t=[],n=null,a=null,r=null,i=null,o=null,s=null,d=void 0;for(d=e.length-1;d>=0;d--){try{a=e[d].location}catch(e){}if(a)n=encodeURIComponent(a),t.push(n),s||(s=n);else if(0!==d){r=e[d-1];try{i=r.referrer,o=r.ancestor}catch(e){}i?(n=encodeURIComponent(i),t.push(n),s||(s=n)):o?(n=encodeURIComponent(o),t.push(n),s||(s=n)):t.push(null)}else t.push(null)}return{stack:t,detectedRefererUrl:s}}(e);return{referer:r.detectedRefererUrl,reachedTop:a,numIframes:n,stack:r.stack}}catch(e){}}},t.getRefererInfo=t.detectReferer(window)},function(e,t,n){var a=n(3),r=n(8),i=n(0),o=window.document,s="compatMode",d="documentElement",c="nodeType",u="hidden",l="auto",g="contains",f=10,p="scroll",m="getAttribute",v="setAttribute",h="removeAttribute",y="clip",b=window.Number,E=b&&b.MAX_VALUE,w=-1*E,I="compareDocumentPosition",T="object",_="string",A="number",S="toLowerCase",O="toFixed",k="elementFromPoint",x="length",N="overflow",R="document",M="onscroll",D=window.String,P=window.Math,C=Math.max,q=Math.min,B=Math.round,U=window,F=window.navigator,W=F.userAgent||"",L=!(!window.ActiveXObject&&"ActiveXObject"in window)&&U&&"ActiveXObject"in U,z=null,j=!0,V=!1,H=function(){var e,t={};t.ie=t.opera=t.gecko=t.webkit=t.safari=t.chrome=t.air=t.ipod=t.ipad=t.iphone=t.android=t.webos=t.silk=t.nodejs=t.phantomjs=0,t.mobile=t.ios=t.caja=F&&F.cajaVersion;var n=W;n&&(be(/KHTML/,n)&&(t.webkit=1),be(/IEMobile|XBLWP7/,n)&&(t.mobile="windows"),be(/Fennec/,n)&&(t.mobile="gecko"),(e=ye(n,/AppleWebKit\/([^\s]*)/,1))&&(t.webkit=he(e),t.safari=t.webkit,be(/PhantomJS/,n)&&(e=ye(n,/PhantomJS\/([^\s]*)/,1))&&(t.phantomjs=he(e)),be(/ Mobile\//,n)||be(/iPad|iPod|iPhone/,n)?(t.mobile="Apple",e=(e=ye(n,/OS ([^\s]*)/,1))&&he(e.replace("_",".")),t.ios=e,t.ipad=t.ipod=t.iphone=0,(e=ye(n,/iPad|iPod|iPhone/,0))&&(t[e[S]()]=t.ios)):((e=ye(n,/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/,0))&&(t.mobile=e),be(/webOS/,n)&&(t.mobile="WebOS",(e=ye(n,/webOS\/([^\s]*);/,1))&&(t.webos=he(e))),be(/ Android/,n)&&(t.mobile="Android",(e=ye(n,/Android ([^\s]*);/,1))&&(t.android=he(e))),be(/Silk/,n)&&(e=ye(n,/Silk\/([^\s]*)\)/,1))&&(t.silk=he(e))),(e=n.match(/(Chrome|CrMo)\/([^\s]*)/))&&e[1]&&e[2]?(t.chrome=he(e[2]),t.safari=0,"CrMo"===e[1]&&(t.mobile="chrome")):(e=ye(n,/AdobeAIR\/([^\s]*)/))&&(t.air=e[0])),t.webkit||((e=ye(n,/Opera[\s\/]([^\s]*)/,1))?(t.opera=he(e),(e=ye(n,/Opera Mini[^;]*/,0))&&(t.mobile=e)):(e=ye(n,/MSIE\s([^;]*)/,1))?t.ie=he(e):(e=ye(n,/Gecko\/([^\s]*)/))&&(t.gecko=1,(e=ye(n,/rv:([^\s\)]*)/,1))&&(t.gecko=he(e)))));return t}(),G=H.ie||0,Y=H.webkit||0,X=H.gecko||0,J=H.opera||0,K=0,Q={},$=p+"Width",Z=p+"Height",ee=p+"Top",te=p+"Left",ne="offsetParent",ae="offsetTop",re="offsetLeft",ie="offsetWidth",oe="offsetHeight",se="clientWidth",de="clientHeight",ce="innerWidth",ue="innerHeight",le="parentNode";function ge(e){var t,n,a,r,i,o,d,c,u,l={t:0,l:0,r:0,b:0,w:0,h:0,z:0},g="getBoundingClientRect",f=0,p=0,m=0,v=0,h=V,y=_e(e)||U[R],b=y[s],E=y.documentMode||0;if(fe(e))try{if(i=we(e),t=Ae(e),n=Re(e),l.l=e[re]||0,l.t=e[ae]||0,a=e,r=z,h=X||Y>519,!(e===t)&&e[g])L&&(!E||E>0&&E<8||"BackCompat"===b)&&(d=t.clientLeft,c=t.clientTop),u=e[g](),l.t=u.top,l.l=u.left,(d||c)&&(l.l-=d,l.t-=c),(n.y||n.x)&&(!H.ios||H.ios>=4.2)&&(l.l+=n.x,l.t+=n.y);else{for(;(a=a[ne])&&fe(a)&&r!==a;)d=a[re],c=a[ae],l.t+=c,l.l+=d,h&&(l=Ie(a,l)),r=a;if("fixed"!=i.position){for(a=e,r=z;(a=a[le])&&fe(a)&&r!==a&&a!=t;)f=a[ee],p=a[te],X&&"visible"!=(o=we(a))[N]&&(l=Ie(a,l,o)),(f||p)&&(l.l-=p,l.t-=f),r=a;l.l+=n.x,l.t+=n.y}else l.l+=n.x,l.t+=n.y}e==t?(v=e[de],m=e[se]):(v=e[oe],m=e[ie]),l.b=l.t+v,l.r=l.l+m,l.w=C(m,0),l.h=C(v,0),l.z=i.zIndex}catch(e){l={t:0,l:0,r:0,b:0,w:0,h:0,z:0}}return l}function fe(e){return 1===pe(e)}function pe(e){return Oe(e&&e.nodeType,-1)}function me(e){return(e=ve(e))&&-1==e.search(/\D+/g)?j:e&&-1!=e.search(/px/gi)?j:void 0}function ve(e){var t=typeof e;return t==_?e:t!=A||e?t==T&&e&&e.join?e.join(""):!1===e?"false":!0===e?"true":e?D(e):"":"0"}function he(e){var t=0;return parseFloat(e.replace(/\./g,function(){return 1==t++?"":"."}))}function ye(e,t,n){var a=e&&e.match(t);return n==z?a:a&&a[n]||z}function be(e,t){return e.test(t)}function Ee(e){var t,n=z;try{e&&((n=e.parentWindow||e.defaultView||z)||(n=(t=_e(e))&&(t.parentWindow||t.defaultView)||z))}catch(e){n=z}return n}function we(e){var t;if(Ee(e).getComputedStyle)try{t=Ee(e).getComputedStyle(e,z)}catch(e){t=z}else try{t=e.currentStyle}catch(e){t=z}return t}function Ie(e,t,n){var a=0,r=0;return(n=n||we(e))&&(a=n.borderTopWidth,r=n.borderLeftWidth,a=me(a)?Oe(a,0):0,r=me(r)?Oe(r,0):0,X&&/^t(?:able|d|h|r|head|foot)$/i.test(xe(e))&&(a=r=0)),(t=t||{t:0,l:0}).t+=a,t.l+=r,t}function Te(e){return e&&(e.parentNode||e.parentElement)}function _e(e){var t=z;try{e&&(t=9==pe(e)?e:e[R]||e.ownerDocument||z)}catch(e){t=z}return t}function Ae(e){var t=e&&_e(e)||o,n=t[s],a=t[d];return n&&!J&&"CSS1Compat"!=n&&(a=t.body),a}function Se(e){var t,n,a,r,i=[-1,-1,-1,-1],o=[y+"Top",y+"Right",y+"Bottom",y+"Left"],s=0;if(!e)return i;if(G)for(;n=o[s];)me(t=e[n])&&(t=Oe(t,-1))>=0&&(i[s]=t),s++;else if((t=e[y])&&-1!=t.search(/\d+/g))for(r=(i=(i=(t=t.replace(/\w+\(([^\)]*?)\)/g,"$1")).split(" "))[x]<=1?i.split(","):i)[x],s=0;r--;)me(a=i[s])?i[s]=Oe(a,-1):i[s]=-1,s++;return i}function Oe(e,t,n,a){if(typeof e!=A)try{e=e?parseFloat(e):b.NaN}catch(t){e=b.NaN}return a==z&&(a=E),n==z&&(n=w),(isNaN(e)||e<n||e>a)&&t!=z?t:e}function ke(e,t){var n=V,a=e&&e[c]||-1,r=t&&t[c]||-1;if(1==a&&-1!=r)if(e[g])if(J||1==r)n=e[g](t);else for(;t;){if(e===t){n=j;break}t=t.parentNode}else e[I]&&(n=e===t||!!(16&e[I](t)));return n}function xe(e){return e&&1==e[c]&&e.tagName[S]()||""}function Ne(e,t,n){try{arguments[x]>2?n===z?e[h](t):(n=ve(n),"class"==t[S]()?e.className=n:e[v](t,n)):n=ve(e[m](t))}catch(e){n=""}return n}function Re(e){var t,n,a,r,i={x:0,y:0,w:0,h:0},s={scrollLeft:0,scrollTop:0,scrollWidth:0,scrollHeight:0},c=0,u=0;return n=(t=_e(e)||o)[d]||s,r=t.body||s,(a=t.defaultView)&&(c=Oe(a.pageXOffset,0),u=Oe(a.pageYOffset,0)),i.x=C(n.scrollLeft,r.scrollLeft,c),i.y=C(n.scrollTop,r.scrollTop,u),i.w=C(n.scrollWidth,r.scrollWidth,0),i.h=C(n.scrollHeight,r.scrollHeight,0),i}function Me(e,t,n){var a,r,i,o,s,d,c,g,m,v,h,y,b,E,w,I,T,_,A,S,R,M,D,F,W,L,H,G,Y,X,J,Q,ee,te,ne,ae=e&&Te(e),re=Ae(e),le=ge(e),fe=ge(re),pe=Re(re),me=function(e){var t=Ae(e),n=0,a=0;return t&&(n=t.scrollWidth||0,a=t.scrollHeight||0),{t:0,l:0,b:a,r:n,w:n,h:a}}(e),he={t:0,l:0,r:0,b:0,w:0,h:0},ye={t:0,l:0,r:0,b:0,xs:0,ys:0,xiv:0,yiv:0,iv:0,w:0,h:0},be=[],Ee=V,Ie={left:z,right:z,top:z,bottom:z};if(t=t&&"object"==typeof t?t:{},ae)for(a=fe.t,r=fe.l,i=fe.r,o=fe.b;(c=we(ae))&&("block"!=c.display&&"absolute"!=c.position&&"none"==c.float&&"none"==c.clear||(Ee=ae==re,v=(te=ge(ae)).t,h=te.l,y=te.r,b=te.b,S=c[N+"X"],R=c[N+"Y"],M=c[N],D=Ee?[-1,-1,-1,-1]:Se(c),ne=V,Ee?(E=pe.w,T=pe.h):(E=ae[$],T=ae[Z]),w=ae[ie],_=ae[oe],I=ae[se],A=ae[de],!d&&w>I&&(d=w-I),!s&&_>A&&(s=_-A),Ee?(E>I&&((h=0)>r&&(r=h),(y=(U[ce]||w)+pe.x)<i&&(i=y)),T>A&&((v=0)>a&&(a=v),(b=(U[ue]||_)+pe.y)<o&&(o=b))):(d&&y-h==w&&(y-=d),s&&b-v==_&&(b-=s),S!=u&&S!=p&&S!=l&&M!=u&&M!=p&&M!=l||(h>r&&(r=h,Ie.left=ae),y<i&&(i=y,Ie.right=ae),S==p||M==p?(be.push(ae),ne=j):(S==l||M==l)&&E>I&&(be.push(ae),ne=j)),D[3]>0&&(G=h+D[3])>r&&(r=G,Ie.left=ae),D[1]>0&&(Y=y+D[1])<i&&(i=Y,Ie.right=ae),R!=u&&R!=p&&R!=l&&M!=u&&M!=p&&M!=l||(v>a&&(a=v,Ie.top=ae),b<o&&(o=b,Ie.bottom=ae),ne||(R==p||M==p?(be.push(ae),ne=j):(R==l||M==l)&&T>A&&(be.push(ae),ne=j))),D[0]>0&&(L=v+D[0])>a&&(a=L,Ie.top=ae),D[2]>0&&(H=te.t+D[2])<o&&(o=H,Ie.bottom=ae))),ae!=re)&&(ae=Te(ae))&&xe(ae););return(he={t:C(a,0),l:C(r,0),r:C(i,0),b:C(o,0)}).w=C(he.r-he.l,0),he.h=C(he.b-he.t,0),h=le.l,y=le.r,v=le.t,g=y-h,m=(b=le.b)-v,G=he.l,Y=he.r,L=he.t,Y-G,(H=he.b)-L,W=(W=(W=q(b,H)-C(v,L))<0?0:W)>m?m:W,F=(F=(F=q(y,Y)-C(h,G))<0?0:F)>g?g:F,ye.t=L<v?H<=v?0:C(v-L,0):0,ye.b=H>b?b<=L?0:C(H-b,0):0,ye.l=G<h?Y<=h?0:H<=v?0:b<=L?0:C(h-G,0):0,ye.r=Y>y?y<=G?0:H<=v?0:C(Y-y,0):0,ye.w=C(ye.r-ye.l,0),ye.h=C(ye.b-ye.t,0),ye.xiv=g>0?Oe((F/g)[O](2)):0,ye.yiv=m>0?Oe((W/m)[O](2)):0,ye.iv=g>0||m>0?Oe((F*W/(g*m))[O](2)):0,ye.civ=0,n&&ye.iv>.49&&(X=(ee=function(e){var t,n,a,r,i,o,s,d,c,u,l,g,p,m,v,h,y=ge(e),b=_e(e),E=Ae(b),w=y.t,I=y.l,T=f,_=[],A=0;if(_.on=0,t=y.w,n=y.h,i=a=B(t/T),o=r=B(n/T),t<=1||n<=1||a<1||r<1)return _;if(v=(h=Re()).y,m=h.x,g=I+t,p=w+n,b&&E&&b[k]){for(;i<t;){for(o=r;o<n;)d=w+o,(s=I+i)<=g&&d<=p&&_.push({x:s,y:d,on:0}),o+=r;i+=a}for(;c=_[A++];)s=C(c.x-m,0),s=q(s,c.x),d=C(c.y-v,0),d=q(d,c.y),0!=s?0!=d?(l=b[k](s,d))&&l!==E&&l!==e&&!ke(l,e)&&((u=Ne(l,"id"))||Ne(l,"id",u=ve(["geom_inter","_",(new Date).getTime(),"_",P.round(100*P.random()),"_",K++])),c.on=u,_.on++):(c.on="!y-offscreen",_.on++):(c.on="!x-offscreen",_.on++)}return _}(e))[x],(J=Oe(ee.on,0))&&(Q=1-Oe((J/X)[O](2),0),ye.civ=ye.iv=Q)),t.rect=le,t.clipRect=he,t.docRect=me,be[x]?(t.isRoot=V,t.canScroll=j,ye.xs=!!s,ye.ys=!!d):fe.b>=he.b||fe.r>=he.r?(t.isRoot=j,ye.xs=!!(me.w>fe.w&&s),ye.ys=!!(me.h>fe.h&&d),t.canScroll=me.w>fe.w||me.h>fe.h):ye.ys=ye.xs=t.isRoot=t.canScroll=V,t.scrollNodes=be,t.clipNodes=Ie,t.expRect=ye,ye}function De(e,t,n){var a,r,o,s,d,c,u,l,g,f,m,v,h={},y={};if(Me(t,y,j),!n&&!y.isRoot&&y.canScroll&&((r=y.expRect).xs||r.ys)){Ce(e),a=[],Q[e]=a;for(var b=0;b<y.scrollNodes.length;b++){var E=y.scrollNodes[b],w={};w.node=E,w[M]=function(t){Pe(t,e,E)},i.addEventHandler(E,p,w[M]),a.push(w)}}return h.win=(d=s&&Ee(s)||U,c=d.innerHeight||0,u=d.innerWidth||0,l=d.screenY||d.screenTop||0,g=c+l,f=d.screenX||d.screenLeft||0,m=u+f,v=Ae(s),c||u||!v||(c=v.clientHeight||0,m=f+(u=v.clientWidth||0),g=l+c),{t:l,l:f,b:g,r:m,w:u,h:c}),h.par=y.clipRect,r=y.expRect,(o=y.rect).iv=r.iv,o.xiv=r.xiv,o.yiv=r.yiv,delete r.iv,delete r.xiv,delete r.yiv,h.exp=r,h.self=o,h}function Pe(e,t,n){var i=Q[t];if(i)for(var o=0;o<i.length;o++){var s=i[o];if(s.node===n){s.tID&&(clearTimeout(s.tID),delete s.tID),s.tID=setTimeout(function(){var e=r.getInstance().getIframe(t);e&&a.sendGeomWithGeom(e.iframe,t,De(t,e.iframe,j))},a.GEOM_UPDATE_PACING_INTERVAL);break}}}function Ce(e){var t,n=Q[e];if(n)for(;t=n.pop();)t.tID&&clearTimeout(t.tID),i.removeEventHandler(t.node,p,t[M]),t.node=t[M]=z,Q[e]=z;delete Q[e]}t.removeHandlers=Ce,t.build_geom=De},function(e,t,n){"use strict";n.r(t),n.d(t,"parseGeoOverrideOption",function(){return i}),n.d(t,"setPageOptions",function(){return o});var a=n(0),r=n(2).attachSfHandlers,i=function(e){var t=e.countryCode;if("string"==typeof t&&2===t.length){var n=e.zip;if(!("string"!=typeof n||n.length<1))return{countryCode:t.toUpperCase(),zip:n};a.logWarn("Ignoring geoOveride options, Invalid zip code, it should be of type String and of atleast 1 character.")}else a.logWarn("Ignoring geoOveride options, Invalid country code, it should be of type String and of 2 characters.")},o=function(e){if(e){if(e.member&&(apntag.requests.member=Number(e.member)),e.targetingParams&&(apntag.requests.targetingParams=e.targetingParams,a.logWarn("targetingParams will be deprecated soon. Please use keywords instead")),e.keywords&&(apntag.requests.keywords=e.keywords),e.user&&(apntag.requests.user=e.user),e.app&&(apntag.requests.app=e.app),e.device&&(apntag.requests.device=e.device),e.geoOverride){var t=i(e.geoOverride);t&&(apntag.requests.geoOverride=t)}e.site&&(apntag.requests.site=e.site),e.disablePsa&&(apntag.requests.disablePsa=!0),apntag.requests.enableSafeFrame=!1,e.enableSafeFrame&&(r(),apntag.requests.enableSafeFrame=!0),e.publisherId&&(apntag.requests.publisherId=e.publisherId),e.consentManagement&&(apntag.requests.consentManagement=e.consentManagement),e.auctionTimeout&&(apntag.requests.auctionTimeout=e.auctionTimeout),e.enableMediationEvents&&(apntag.requests.enableMediationEvents=!0),e.us_privacy&&(a.isStr(e.us_privacy)?apntag.requests.us_privacy=e.us_privacy:a.logWarn("Ignoring us_privacy, it should be a string"))}}},function(e,t,n){"use strict";n.r(t),n.d(t,"doSizeMapping",function(){return p}),n.d(t,"defineTag",function(){return v});var a=n(0),r=n(1),i=n(25),o=n(2),s=o._internalTagArr,d=o._externalTagMap,c=o.tagMemberId,u=o.safeframe,l=o.baseWindow,g=o.getShowTagDefinedMap,f=r.OBJECT_TYPE.UNDEFINED;function p(e,t){var n=!1,r=e;if(2===arguments.length?(r=l.apntag.requests.tags[t],e.sizes&&r.sizeMapping?n=!0:e.sizeMapping&&!r.sizeMapping&&(n=!0)):(t=e.targetId,e.sizes&&e.sizeMapping&&(n=!0)),n)return a.logError("sizes and sizeMapping both cannot be defined for targetId: "+t),!1;if(e.sizeMapping){var o=i.mapSizes(e);if(""===o)return"";e.sizes=o}return!0}var m=function(e){if(e.rid&&(apntag.requests.keywords.rid=e.rid),e.provider_id&&(apntag.requests.keywords.provider_id=e.provider_id),e.debug&&(apntag.debug=e.debug),e.astToolkit&&e.astDongle&&(apntag.requests.toolkit={enabled:!0,dongle:e.astDongle}),e.size)a.logError("Size is deprecated, please use sizes instead.");else if(e.member?e.member=Number(e.member):e.member=apntag.requests.member,e.member||(e.member="none"),e.tagId||e.invCode&&e.member){if(e.sizeMapping)if(!p(e))return void a.logError("tag not mapped to any sizes for device width: "+e.targetId);try{var t=e.targetId,n=function(e,t){var n=e.member;return apntag.requests=apntag.requests||{},apntag.requests.tags=apntag.requests.tags||{},apntag.requests.utCalled=apntag.requests.utCalled||!1,apntag.requests.hasLeft=apntag.requests.hasLeft||!1,apntag.requests.cbCalled=apntag.requests.cbCalled||!1,apntag.requests.enableSafeFrame&&(e.enableSafeFrame=!0),e.safeframe=a.cloneAsObject(u)||{},a.hasOwn(e,"safeframeConfig")&&(a.hasOwn(e.safeframeConfig,"allowExpansionByPush")&&(e.safeframe.expansionByPush=e.safeframeConfig.allowExpansionByPush),a.hasOwn(e.safeframeConfig,"allowExpansionByOverlay")&&(e.safeframe.expansionByOverlay=e.safeframeConfig.allowExpansionByOverlay),a.hasOwn(e.safeframeConfig,"sandbox")&&(e.safeframe.sandbox=e.safeframeConfig.sandbox),a.hasOwn(e.safeframeConfig,"meta")&&(e.safeframe.meta=e.safeframeConfig.meta)),apntag.requests.tags[t]=e,apntag.requests.tags[t].utCalled=apntag.requests.tags[t].utCalled||!1,apntag.requests.tags[t].showTagCalled=apntag.requests.tags[t].showTagCalled||!1,apntag.requests.tags[t].displayed=apntag.requests.tags[t].displayed||!1,apntag.requests.tags[t].initialHeight=1,apntag.requests.tags[t].initialWidth=1,apntag.requests.tags[t].on=apntag.onEvent||void 0,apntag.requests.tags[t].off=apntag.offEvent||void 0,apntag.requests.tags[t].setSizes=apntag.setSizes||void 0,apntag.requests.tags[t].modifyTag=apntag.modifyTag||void 0,apntag.requests.tags[t].refresh=function(){return apntag.refresh(this.targetId)},apntag.requests.tags[t].setKeywords=function(e,t){return apntag.setKeywords(this.targetId,e,t)},c[n]=typeof c[n]===f?[]:c[n],c[n].push(e.targetId),g()[e.targetId]&&(apntag.requests.tags[t].showTagCalled=!0),apntag.requests.tags[t]}(e,t);return a.logMessage("defineTag called for: "+t),apntag.requests&&!0===apntag.requests.utCalled&&!apntag.requests.tags[t].utCalled&&a.logMessage("A placement was loaded after ut call was started. These ad calls will not be coordinated"),n}catch(e){a.logError("buildAdTagContainer: "+e.message)}}else a.logError("tagId or (invCode & memberId) should be defined for targetId: "+e.targetId)},v=function(e){a.logInfo("Invoking apntag.defineTag",arguments);var t=m(e);if(t){if(s.push(t),d[t.targetId])return d[t.targetId];var n={targetId:t.targetId,on:t.on,off:t.off,modifyTag:t.modifyTag,setKeywords:t.setKeywords};return d[t.targetId]=n,n}a.logError("No ad will be requested for targetId: "+e.targetId)}},function(e,t,n){var a=n(0),r=void 0,i=t;i.mapSizes=function(e){if(!function(e){if(a.isArray(e)&&e.length>0)return!0;return a.logInfo("No size mapping defined"),!1}(e.sizeMapping))return e.sizes;var t=i.getScreenWidth(),n=void 0;if(!t){n=e.sizeMapping[0];for(var r=0;r<e.sizeMapping.length;r++)parseInt(e.sizeMapping[r].minWidth,10)>parseInt(n.minWidth,10)&&(n=e.sizeMapping[r]);return n.sizes?n.sizes:e.sizes}for(var o="",s=e.sizeMapping.slice().sort(function(e,t){return e.minWidth-t.minWidth}),d=0;d<s.length;d++)t>=s[d].minWidth&&(n=s[d]);return n&&n.sizes?(o=n.sizes,a.logMessage("tag : "+e.targetId+" resized based on device width to : "+o)):a.logMessage("tag : "+e.targetId+" not mapped to any sizes for device width. This request will be suppressed."),o},i.getScreenWidth=function(e){var t=e||r||a.getWindow(),n=t.document;return t.innerWidth?t.innerWidth:n.body.clientWidth?n.body.clientWidth:n.documentElement.clientWidth?n.documentElement.clientWidth:0},i.setWindow=function(e){r=e}},function(e,t,n){"use strict";n.r(t),n.d(t,"handleCb",function(){return w});var a=n(0),r=n(1),i=n(4),o=n(6),s=n(27),d=n(5),c=n(15),u=n(2),l=u._internalTagArr,g=u.safeframe,f=u.getIframeElementMap,p=u.renderedAdDivs,m=u.attachSfHandlers,v=r.AD_TYPE.NATIVE,h=r.AD_TYPE.BANNER,y=r.AD_TYPE.VIDEO,b=r.OBJECT_TYPE.UNDEFINED;function E(e,t,n){a.logMessage("renderAd is called"),a._each(apntag.requests.tags,function(e){if(e.uuid===t){e.adResponse=n;try{if(n.ad&&n.ad.ad_type===h){var r=n.ad.content_source;e.ad={mediatedContent:n.ad[r].banner.content},e.initialHeight=n.ad[r].banner.height,e.initialWidth=n.ad[r].banner.width}}catch(e){a.logError("Error while setting mediated content for banner in renderAd"+e)}var i=c(e,g,f(),m);p.push(i)}})}function w(e,t){var n=null;if(apntag.requests.cbCalled=!0,typeof e===b||null===e||e.error){var c="malformed response from ad server";e&&e.error&&(c=e.error),a.logError("Error response from impbus: "+c);var u={};try{u=JSON.parse(t)}catch(e){}a._each(apntag.requests.tags,function(e,t){var s=o.getAdErrorObj(c,t,void 0,200);e&&(n=o.getAdObj(e.adResponse)),a._each(u.tags,function(a){a.uuid===e.uuid&&i.emit(r.EVENTS.BAD_REQUEST,t,s,n)})})}else e.debug&&e.debug.debug_info&&s.load(e.debug.debug_info),e.toolkit&&e.toolkit.enabled&&s.loadToolkit(e.tags),a._each(e.tags,function(e){if(e.error)a._each(apntag.requests.tags,function(t){if(t.uuid===e.uuid){var n="There was an exception from targetId:"+t.targetId+" this usually means there is a setup error on the tag (invalid ID etc)";a.logError(n,e.error);var s=o.getAdErrorObj(n,t.targetId,void 0,200);i.emit(r.EVENTS.BAD_REQUEST,t.targetId,s)}});else{if(e.ads&&e.ads.length&&e.ads[0].ad_type===v)if(!function(e){var t={},n=void 0;a._each(l,function(t){t.uuid===e.uuid&&(n=t)}),n&&(t=n.native);var r=[];a._each(t,function(e,t){!0===e.required&&r.push(t)});var i=o.getAdObj(e),s=[];a._each(i.native,function(e,t){a.isEmpty(e)||s.push(t)});var d=s.length>0;return a._each(r,function(e){d=d&&s.indexOf(e)>-1}),d}(e))return void a.logError("required native assets missing from response");var t=e.ads,s=d.checkIfMediatedResponse(t),c=e.rtb_video_fallback;s||c?a._each(apntag.requests.tags,function(a,c){if(a.uuid===e.uuid){a.utCalled=!0,s?a.isMediated=!0:a.isRtbVideoFallback=!0;var u=d.getMediationType(t),l=d.getMediationOptions(apntag.requests.tags,e);if(u===y)a.isVideoMediation=!0,n=o.getAdObj(e),i.emit(r.EVENTS.AVAILABLE,c,n),d.callMediationFramework(u,e,l,E);else{a.isBannerMediation=!0;var g=d.getContentForBannerMediation(a.targetId,e);e.ad={ad_type:h},a.ad={mediatedContent:g},I(a,e,c)}}}):a._each(apntag.requests.tags,function(t,n){I(t,e,n)})}}),apntag.requests.checkDisplay&&a.checkPlacements()}function I(e,t,n){var s=void 0;if(e.uuid===t.uuid)if(!0===t.nobid)a.logMessage("No bid for targetId:"+e.targetId),s=o.getAdObj(t),i.emit(r.EVENTS.NO_BID,n,s);else if(e.adResponse=t,e.utCalled=!0,s=o.getAdObj(t),i.emit(r.EVENTS.AVAILABLE,n,s),!e.prebid&&!e.displayed){var d=c(e,g,f(),m);p.push(d)}}},function(e,t,n){var a=n(12),r=t;function i(){var e=document.createElement("iframe");return e.id="appnexus-debug-console-loader",e.height="100%",e.width="100%",e.border="0px",e.hspace="0",e.vspace="0",e.marginWidth="0",e.marginHeight="0",e.style.border="0",e.frameBorder="0",e}function o(){var e=void 0;return a.ls&&(e=a.ls.getItem("ast_dongle")),'<div style="margin-top:10px;margin-bottom:10px;"><span style="font-weight:bold">AST Dongle Value:</span> <input\n            id="ast-dongle-input"\n            type="text"\n            length="400"\n            style="border-radius:5px;"\n            placeholder="Enter ast_dongle value"\n            onkeyup=if('+a.ls+"){"+a.ls+".setItem('ast_dongle',event.target.value)};\n            value="+e+"\n         /></div>"}function s(e){try{return Object.keys(apntag.requests.tags).filter(function(t){return apntag.requests.tags[t].uuid===e.uuid})[0]}catch(e){return""}}r.load=function(e){e=e.replace(/(\n)/g,"<br>"),e=o()+e;var t=document.body,n=document.createElement("div");n.id="appnexus_debug_window";var a=document.createElement("div");a.style.width="100%",a.style.height="400px",a.style.clear="both",t.insertBefore(a,null);var r=n.style;r.position="fixed",r.bottom="0px",r.left="0px",r.width="100%",r.height="450px",r.overflow="hidden",r["border-top"]="1px solid",r["z-index"]=999999,r.background="white",t.insertBefore(n,null);var s=document.createElement("div");s.style.width="100%",s.style.height="30px";var d=i();n.appendChild(d);var c=d.contentWindow.document;d.onload=function(){for(var e=c.getElementsByTagName("br"),t=e.length,n=0,a=void 0;n<t-1;n++)"br"===((a=e[n].nextSibling)&&a.nodeName.toLowerCase())&&(a.style.display="none")};c.open(),c.write(e),c.write("<\/script>"),c.close()},r.loadToolkit=function(e){var t=o()+e.map(function(e){return'\n      <table style="border: 1px solid black; border-radius: 5px; font-family: sans-serif; margin: 1em; padding: .5em">\n        <tr>\n          <td style="padding-right: 5em;"><b>Target&nbsp;ID</b></td>\n          <td style="width: 100%;">'+s(e)+"</td>\n        </tr>\n        <tr>\n          <td><b>Creative ID</b></td>\n          <td>"+c(e,"creative_id")+"</td>\n        </tr>\n        <tr>\n          <td><b>Buyer Member ID</b></td>\n          <td>"+c(e,"buyer_member_id")+"</td></tr>\n        <tr>\n          <td><b>Creative Size</b></td>\n          <td>"+function(e){if(e.nobid)return d;var t=null,n=null,a=e.ads&&e.ads.length?e.ads[0]:{};return a.rtb&&a.rtb.banner&&(t=a.rtb.banner.height,n=a.rtb.banner.width),t&&n?n+" x "+t:""}(e)+"</td>\n        </tr>\n        <tr>\n          <td><b>Available Sizes</b></td>\n          <td>"+function(e){try{var t=s(e),n=apntag.requests.tags[t].sizes;return JSON.stringify(n)}catch(e){return""}}(e)+"</td></tr>\n        <tr>\n          <td><b>Winning Bid</b></td>\n          <td>"+c(e,"cpm")+"</td></tr>\n        <tr>\n          <td><b>Demand Source</b></td>\n          <td>"+function(e){if(e.nobid)return d;var t=function(e){var t=apntag.requests.tags;if(e.ads.length&&e.ads[0].seller_member_id)return e.ads[0].seller_member_id;for(var n in t)if(t.hasOwnProperty(n)&&t[n].uuid===e.uuid)return t[n].member;return null}(e);return e.ads[0].csm?"CSM":e.ads[0].buyer_member_id===t||e.ads[0].deal_id?e.ads[0].buyer_member_id!==t&&e.ads[0].deal_id?"Deal":e.ads[0].buyer_member_id===t?"Direct":"":"RTB"}(e)+"</td></tr>\n        <tr>\n          <td><b>Ad Type</b></td>\n          <td>"+c(e,"ad_type")+"</td></tr>\n        <tr>\n          <td><b>Media Type</b></td>\n          <td>"+c(e,"media_type_id")+'</td></tr>\n        <tr>\n          <td style="color: #555; font-size: smaller; padding-top: .5em;" colspan="2">\n            Console Ad Profile:\n            <a href="'+function(e){return"//console.appnexus.com/ad-quality?id="+e.placement.publisher.id}(e)+'" target="_blank">'+e.ad_profile_id+"</a>\n            "+function(e){return e.ads?'| <a href="//ib.adnxs.com/cr?id='+e.ads[0].creative_id+'" target="_blank">Creative Preview<a/>':""}(e)+"\n          </td>\n        </tr>\n      </table>\n    "}).join(" "),n=document.body,a=document.createElement("div");a.id="appnexus_debug_window";var r=document.createElement("div");r.style.width="100%",r.style.height="400px",r.style.clear="both",n.insertBefore(r,null);var u=a.style;u.position="fixed",u.bottom="0px",u.left="0px",u.width="100%",u.height="450px",u.overflow="hidden",u["border-top"]="1px solid",u["z-index"]=999999,u.background="white",n.insertBefore(a,null);var l=document.createElement("div");l.style.width="100%",l.style.height="30px";var g=i();a.appendChild(g);var f=g.contentWindow.document;f.open(),f.write(t),f.close()};var d='<span style="color: #ccc">nobid</span>';function c(e,t){if(e.nobid)return d;var n=e.ads&&e.ads[0][t];return n||0===n?n:""}},function(e,t){t.getBrowserType=function(){var e=navigator.userAgent.toLowerCase();return(/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[])[1]}},function(e,t,n){var a=n(0),r=t,i=1,o=void 0,s=void 0;r.performLookup=function(e,t){var n=t,r=void 0;function d(e){var t={us_privacy:e?e.uspString:void 0};s.us_privacy=t.us_privacy}function c(e){clearTimeout(r),d(),a.runOnce(u(e))}function u(e){e&&a.logWarn(e+" Resuming request without CCPA USP consent information."),n()}if((s=e).consentManagement&&(s.consentManagement.disabled||s.consentManagement.usp&&s.consentManagement.usp.disabled))return a.runOnce(u());var l=1e4;if(s.consentManagement&&a.isNumber(s.consentManagement.timeout)&&(l=s.consentManagement.timeout),o)return d(o),a.runOnce(u());r=setTimeout(function(){c("CCPA USP CMP workflow exceeded timeout threshold.")},l),function(e,t){var n={},r=void 0;try{r=window.__uspapi||window.top.__uspapi}catch(e){}if(a.isFn(r))r("getUSPData",i,e);else{for(var o=window,s=void 0;!s;){try{o.frames.__uspapiLocator&&(s=o)}catch(e){}if(o===window.top)break;o=o.parent}if(!s)return t("CCPA USP CMP not found.");!function(t){function r(e){var t="string"==typeof e.data&&e.data.includes("uspapiReturn")?JSON.parse(e.data):e.data;if(t.__uspapiReturn){var a=t.__uspapiReturn;n[a.callId](a.returnValue,a.success),delete n[a.callId]}}window.__uspapi=function(e,a,r){var i=""+Math.random(),o={__uspapiCall:{command:e,version:a,callId:i}};n[i]=r,t.postMessage(o,"*")},a.addEventHandler(window,"message",r,!1),window.__uspapi("getUSPData",i,function(t){a.removeEventHandler(window,"message",r,!1),e(t)})}(s)}}(function(e){"object"!=typeof e||"string"!=typeof e.uspString||""===e.uspString?c("CCPA USP CMP returned unexpected consentObject during lookup process; returned value was ("+e+")"):(clearTimeout(r),d(o=e),a.runOnce(u()))},c)},r.resetConsentData=function(){o=void 0}},function(e,t,n){"use strict";n.r(t),n.d(t,"doAsyncShowTag",function(){return g});var a=n(0),r=n(1),i=n(15),o=n(2),s=o.safeframe,d=o.getShowTagDefinedMap,c=o.renderedAdDivs,u=o.getIframeElementMap,l=o.attachSfHandlers;function g(e,t){if(a.logMessage("showTag called for "+e),d()[e]=!0,a.checkDefinedTag(e)){var n=apntag.requests.tags[e];if(n.showTagCalled=!0,n.curWindow=t,n.displayed)return void a.logWarn("Attempting to display ad that is already displayed, will not render this ad again: "+e);if(apntag.requests.utCalled)if(n.adResponse){var o=i(n,s,u(),l);c.push(o),apntag.requests.hasLeft&&a.checkPlacements()}else apntag.requests.checkDisplay=!0;else a.logWarn(e+" : showTag() called before ad request was made. This placement might not display if a subsequent loadTags() call is not made")}else a.logMessage("the "+e+" tag was loaded before the ad placement was available.",r.LOG.WARN)}},function(e,t,n){"use strict";n.r(t),n.d(t,"resizeAd",function(){return d});var a=n(0),r=n(17).getTag,i=n(2),o=i.baseWindow,s=i.getIframeElementMap;function d(e,t){var n=0,i=0;a.isArray(t)&&2===t.length?(i=t[0],n=t[1]):a.logError("resizeAd must be invoked with a (targetId,[width, height])");var d=s()[e];if(d){var c=r(e),u=a.getUtDivId(c),l=o.document.getElementById(u);if(l){l.style.height=n,l.style.width=i,d.height=n+"px",d.width=i+"px",d.height=n,d.width=i,a.logMessage("ResizeAd successful for targetId: "+e);var g=apntag.requests.tags[e];if(g&&g.isMediated&&d.contentWindow){var f=a.getWindow(),p=f.location.protocol+"//"+f.location.host,m={name:"resizeAd",size:[i,n]};d.contentWindow.postMessage(JSON.stringify(m),p)}}else a.logError("Failed to find target for resizeAd: "+e)}else a.logError("Failed to find target for resizeAd : "+e)}}]);